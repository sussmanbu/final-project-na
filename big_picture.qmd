---
title: "Big Picture"
description: "Unveiling the Interplay of Region, Season, and Crime in New York City"
toc: true
draft: FALSE
editor: 
  markdown: 
    wrap: sentence
---

![](images/nyc1.jpeg){width="90%"}

```{r echo= F,message=FALSE, warning= FALSE}
library(dplyr)
library(tidyverse) 
library(ggplot2)
library(viridis)
library(dplyr)
library(kableExtra)
library(gridExtra)
library(data.table)
library(sp)
library(sf)
library(RColorBrewer)
library(MASS)
ds <- read_rds("dataset/load_and_clean_data.rds") 

```

## **Does Bad Weather Fuel Violent Crime in New York ?**

In the busy city of New York, where every street has its own story, the complex relationship between weather patterns and crime rates tells a story that captures our attention.
A sudden spike in crime during [an unexpected heatwave made headlines in 2023](https://www.worldweatherattribution.org/extreme-heat-in-north-america-europe-and-china-in-july-2023-made-much-more-likely-by-climate-change/), underscoring the urgency of this issue.
This real-world example sets the stage for the research ["Weather and Crime: New York State,"](https://academicworks.cuny.edu/jj_etds/197/) conducted by Yuna Kim from John Jay College of Criminal Justice.
Through meticulous analysis, Kim delves into how fluctuations in temperature across New York's 62 counties correlate with variations in crime rates, highlighting the significant impact of weather on urban safety.

As New York faces the reality of climate change, with its attendant shifts in weather extremes, understanding these correlations is more crucial than ever.
This isn't just about numbers and data; it's about protecting communities, shaping effective policies, and addressing the challenges posed by weather and human behavior in the urban landscape.

### **Why is Analyzing NYC Arrest Data Significant?**

Following the insights from Yuna Kim's study, it's clear that understanding the broader spectrum of crime patterns in New York City is not just about dealing with statistics; it's about real-world impacts on community safety and policy-making.
Analyzing crime rates goes beyond mere numbers, revealing the underlying factors that affect New Yorkers' safety and helping decipher the complex dynamics of urban life. 

The NYPD Arrest dataset acts as more than a mere ledger of offenses.
By dissecting each arrest—examining the timing, location, and profiles of those involved—we can begin to identify patterns that inform targeted, effective policy decisions.
This analysis is a vital step toward making improvements in community safety.
Focusing on the most frequent offenses allows us to delve into the causes of these crimes and develop practical strategies to improve safety for the broader population.
This approach is especially important after noticing that crime rates tend to rise with extreme weather.
By using this data wisely, we can make policies that tackle both crime and the effects of changing weather, helping keep New York City's residents safer.

### **“Assault 3” has the highest number of incidents in all crimes**

```{r echo=FALSE,message=FALSE, warning= FALSE}
# Group by OFNS_DESC and summarize the count
crime_summary <- ds %>%
  group_by(OFNS_DESC) %>%
  summarize(Incident_Count = n()) %>%
  arrange(desc(Incident_Count)) %>%
  top_n(10) 

# Create a bar plot
ggplot(crime_summary, aes(x = reorder(OFNS_DESC, Incident_Count), y = Incident_Count)) +
  geom_bar(stat = "identity", fill = "steelblue") +
  labs(title = "Top 10 Crime Categories by Incident Count",
       x = "Crime Categories",
       y = "Count") +
  theme_minimal() +
  theme(axis.text.x = element_text(angle = 45, hjust = 1))
```

The bar graph tells us a fact: among the top ten crime categories by the incident count of New York in 2023, one stands out—Assault 3.
This category represents instances when individuals recklessly cause physical injury to another person; or with criminal negligence, the individual causes physical injury to another person by means of a deadly weapon or a dangerous instrument.
In the densely social fabric of New York City’s society, where every block can tell a thousand stories, Assault 3 serves as an important indicator of public well-being.
It’s the most common thread that requires our focused attention to understand and, more importantly, to address.

**Considering that Assault 3 crimes are so common in New York City, it's important to understand what causes these incidents.**

### **Thesis Statement:**

The daily crime rates in New York City are significantly influenced by a combination of demographic factors — specifically age, gender, and race of individuals — and environmental conditions, including daily temperature fluctuations and weather patterns.

### **1. Crime on the Map: Uncovering the Regions of “Assault 3” Across New York**

New York City has an intricate mix of neighborhoods, which causes crime rates in these areas differently.
From the socio-economic environment to the density of the urban environment, a variety of factors unique to each area contribute to the difference in crime rates.
Understanding the “why” behind these numbers is key to developing effective solutions tailored to crime prevention and community safety.

```{r include= F, echo=FALSE, message=FALSE, warning= FALSE}

ds <- readRDS("dataset/load_and_clean_data.rds")
ds <- as.data.table(ds)
ds$ARREST_DATE <- ymd(ds$ARREST_DATE)
ds$ARREST_month <- month(ds$ARREST_DATE)

ds_sub <- ds[OFNS_DESC == "ASSAULT 3 & RELATED OFFENSES",]
ds_plot <- ds_sub[,.(count = .N),ARREST_PRECINCT ]

map_data <- st_read("dataset/geo_export_87553334-fdcd-4d0c-8ab2-43a5e2975733.shp")
map_data <-as(map_data, "Spatial")
map_data_all <- sp::merge(map_data,ds_plot,by.x = "precinct",by.y ="ARREST_PRECINCT",all.x = T)
map_data_all <- as(map_data_all, "sf")



```

```{r echo=FALSE, message=FALSE, warning= FALSE}
ggplot()+
  geom_sf(data = map_data_all,colour = "gray60",size = 0.1,aes(fill = count) )+
  # scale_fill_continuous(low = "#FF9797", high = "#600000",na.value="white")+
  scale_fill_distiller(palette = "YlOrRd",direction= 1) +
  #scale_fill_manual(palette = "YlOrRd")+
  theme( axis.ticks=element_blank(), 
         axis.title=element_blank(), 
         panel.border = element_blank(), 
         axis.text=element_blank() , 
         panel.background = element_blank()
         
  )+ggtitle(" Assault 3 Incident Distribution Across NYC in 2023")+
  theme(plot.title = element_text(hjust = 0.5))
```

This map analysis visually illustrates the distribution of "Assault 3" crimes across New York City boroughs in 2023, with color intensity indicating incident frequency—darker shades denote higher crime rates.
The Bronx and Queens, shown in deeper reds, exhibit elevated crime levels possibly due to factors like high population density and socioeconomic challenges, while Manhattan and Staten Island, in lighter shades, suggest fewer incidents, reflecting potentially better socioeconomic conditions and policing strategies.
Despite the disparities, the presence of crime across all boroughs underscores the need for citywide vigilance and targeted interventions to address the systemic issues contributing to these patterns.
The data points to a clear geographic disparity in crime rates, urging a focused effort to tackle the underlying systemic issues in harder-hit communities.

### 

### **2. Calendar of Crime: Tracing Daily Assault 3 Incidents Through the Year in New York**

Following the discussion on the influence of weather on crime rates, this graph offers a detailed day-by-day analysis of Assault 3 incidents throughout 2023. 

```{r include =F}
Sys.setenv(LANG = "en")
Sys.setlocale("LC_TIME", "English")
ds$ARREST_DATE <- ymd(ds$ARREST_DATE)

plot_day <- ds %>% 
  filter(OFNS_DESC =="ASSAULT 3 & RELATED OFFENSES") %>% 
  group_by(ARREST_DATE) %>%
  
  summarise(count_day =n()) %>%
  
  mutate(Month = lubridate::month(ARREST_DATE,label = T),
         Week = as.integer(strftime(ARREST_DATE, '%W')),
         Weekdayf = as.integer(strftime(ARREST_DATE, '%w')),
         Week = ifelse(Weekdayf==0,Week+1,Week),) %>%
  group_by(Month) %>%
  mutate(Weekday = lubridate::wday(ARREST_DATE,label=T), 
         MonthWeek = Week + 1 - min(Week), 
         Days = mday(ARREST_DATE) 
  )

```

```{r echo=FALSE, message=FALSE, warning= FALSE}
p1 <- plot_day %>% ggplot(aes(x=Weekday,y=MonthWeek,fill=count_day))+
  geom_tile(color = "white") + 
  geom_text(aes(label = Days), size = 3) + 
  scale_fill_gradientn(colours = rev(brewer.pal(11, "Spectral"))) + 
  facet_wrap(~Month,ncol = 4,scales = "free_x")+  #nol=4
  scale_y_reverse() + 
  labs(x="Day",y=NULL,title = "Assault 3 Calendar 2023")+
  theme(plot.title = element_text(hjust = 0.5),
        axis.text.y = element_blank(),
        axis.ticks.y = element_blank(),
        strip.text = element_text(size = 11, face = "plain", color = "black"),
        panel.grid = element_blank())
p1


```

The visualization represents daily crime frequencies using a color gradient from cooler to warmer tones to indicate activity levels, ranging from 80 to 140 incidents.
Early in the year, January through March, the cooler colors suggest a lower frequency of incidents in colder months, while the warmer colors from May to September reflect a higher frequency, indicative of increased incidents during warmer months.
This pattern likely results from changes in social dynamics and environmental factors, such as more people being outdoors during warmer weather, which elevates interaction rates and potential conflicts.
Understanding these trends is crucial for law enforcement and community safety programs, which could benefit from adjusting their strategies seasonally to preemptively address and mitigate the peak crime periods.

### **Conclusion: Unveiling Regional and Seasonal Patterns of Assault 3 Crimes**

The data depicted in the maps and calendar reveals a clear pattern: the prevalence of Assault 3 crimes in New York City varies significantly by both region and time of year.
This variability highlights the need for region-specific and season-specific crime analysis.
As we move forward, understanding the root causes behind these observable trends will be critical in developing effective crime prevention policies that are both responsive and adaptive to the unique challenges faced by different New York City neighborhoods throughout the year.

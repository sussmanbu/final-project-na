{
  "hash": "21ebe6c65803c29ff6c79ea33df0023b",
  "result": {
    "markdown": "---\ntitle: \"Seventh Blog Post\"\nsubtitle: \"Logisitic and Decision Tree Models\"\nauthor: \"TEAM NA\"\ndate: \"2024-04-29\"\ndraft: false\n---\n\n\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n![](2024_04_29_blog_7_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n\n\n### Logistic Regression Model \n\n\n::: {.cell}\n\n:::\n\n\nTo identify patterns in ASSAULT 3 by considering various factors such as age, gender, race of the perpetrator, as well as environmental factors like temperature and weather conditions, we decide to build a logistic regression model to predict the likelihood of an arrest being for \"ASSAULT 3 & RELATED OFFENSES\". This helps police understand under what circumstances such crimes are more likely to occur, aiding in the development of proactive policing strategies.\n\nfirst,we use a binary response variable y is created to represent whether each arrest falls into this category. The data is then split into training and validation sets, we randomly select 80% to be training set, 20% to be validation set.\n\n### Logisitic Model result\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n```\n\nCall:\nglm(formula = y ~ ., family = binomial, data = data_train)\n\nCoefficients: (3 not defined because of singularities)\n                                         Estimate Std. Error z value Pr(>|z|)\n(Intercept)                            -2.456e+01  2.976e+02  -0.083 0.934232\nARREST_DATE                             3.182e-04  7.500e-05   4.243 2.21e-05\nLAW_CAT_CDF                            -2.260e-01  2.999e+02  -0.001 0.999399\nLAW_CAT_CDI                            -9.190e-02  8.262e+02   0.000 0.999911\nLAW_CAT_CDM                             1.844e+01  2.976e+02   0.062 0.950582\nLAW_CAT_CDV                            -6.683e-02  4.425e+02   0.000 0.999879\nARREST_BOROK                            3.684e-01  1.166e-01   3.160 0.001577\nARREST_BOROM                           -2.290e-01  9.413e-02  -2.433 0.014987\nARREST_BOROQ                           -3.974e-01  5.885e-01  -0.675 0.499469\nARREST_BOROS                            2.993e-01  1.137e-01   2.632 0.008499\nARREST_PRECINCT5                        4.213e-01  1.153e-01   3.654 0.000258\nARREST_PRECINCT6                        4.048e-01  1.140e-01   3.552 0.000383\nARREST_PRECINCT7                        5.385e-01  1.110e-01   4.852 1.22e-06\nARREST_PRECINCT9                        5.456e-01  1.127e-01   4.839 1.30e-06\nARREST_PRECINCT10                       6.169e-01  1.192e-01   5.173 2.30e-07\nARREST_PRECINCT13                       5.048e-01  1.049e-01   4.810 1.51e-06\nARREST_PRECINCT14                      -1.220e-02  9.238e-02  -0.132 0.894938\nARREST_PRECINCT17                       5.275e-01  1.337e-01   3.945 7.96e-05\nARREST_PRECINCT18                       2.339e-01  1.011e-01   2.312 0.020771\nARREST_PRECINCT19                       3.763e-01  1.166e-01   3.226 0.001254\nARREST_PRECINCT20                       3.143e-01  1.333e-01   2.357 0.018433\nARREST_PRECINCT22                       2.454e+00  3.500e-01   7.011 2.36e-12\nARREST_PRECINCT23                       9.064e-01  1.042e-01   8.696  < 2e-16\nARREST_PRECINCT24                       4.420e-02  1.183e-01   0.374 0.708662\nARREST_PRECINCT25                      -1.398e-01  1.005e-01  -1.390 0.164459\nARREST_PRECINCT26                       7.023e-01  1.241e-01   5.660 1.51e-08\nARREST_PRECINCT28                       4.172e-01  1.092e-01   3.820 0.000134\nARREST_PRECINCT30                       9.715e-01  1.123e-01   8.653  < 2e-16\nARREST_PRECINCT32                       1.332e+00  1.030e-01  12.930  < 2e-16\nARREST_PRECINCT33                       9.466e-01  1.102e-01   8.586  < 2e-16\nARREST_PRECINCT34                       5.732e-01  1.048e-01   5.470 4.51e-08\nARREST_PRECINCT40                       3.165e-01  6.361e-02   4.976 6.48e-07\nARREST_PRECINCT41                       5.155e-01  7.474e-02   6.897 5.30e-12\nARREST_PRECINCT42                       9.027e-01  6.968e-02  12.956  < 2e-16\nARREST_PRECINCT43                       5.822e-01  6.638e-02   8.771  < 2e-16\nARREST_PRECINCT44                       3.420e-01  6.398e-02   5.345 9.04e-08\nARREST_PRECINCT45                       3.028e-01  7.816e-02   3.874 0.000107\nARREST_PRECINCT46                       6.665e-01  6.432e-02  10.362  < 2e-16\nARREST_PRECINCT47                       1.036e+00  6.835e-02  15.153  < 2e-16\nARREST_PRECINCT48                       8.956e-01  7.123e-02  12.574  < 2e-16\nARREST_PRECINCT49                       9.500e-01  8.143e-02  11.667  < 2e-16\nARREST_PRECINCT50                       6.614e-01  9.660e-02   6.847 7.55e-12\nARREST_PRECINCT52                              NA         NA      NA       NA\nARREST_PRECINCT60                      -4.189e-02  1.225e-01  -0.342 0.732444\nARREST_PRECINCT61                       1.044e-01  1.335e-01   0.783 0.433858\nARREST_PRECINCT62                       5.543e-01  1.238e-01   4.479 7.51e-06\nARREST_PRECINCT63                      -3.519e-01  1.305e-01  -2.697 0.006997\nARREST_PRECINCT66                       4.052e-01  1.349e-01   3.004 0.002663\nARREST_PRECINCT67                       6.387e-01  1.191e-01   5.363 8.19e-08\nARREST_PRECINCT68                      -2.002e-01  1.291e-01  -1.551 0.120924\nARREST_PRECINCT69                       4.157e-01  1.329e-01   3.126 0.001769\nARREST_PRECINCT70                       2.123e-01  1.229e-01   1.728 0.084041\nARREST_PRECINCT71                       3.227e-01  1.263e-01   2.555 0.010620\nARREST_PRECINCT72                      -1.468e-02  1.225e-01  -0.120 0.904551\nARREST_PRECINCT73                       1.149e-01  1.174e-01   0.979 0.327484\nARREST_PRECINCT75                       6.234e-02  1.144e-01   0.545 0.585805\nARREST_PRECINCT76                      -6.943e-01  1.562e-01  -4.445 8.80e-06\nARREST_PRECINCT77                       5.251e-01  1.254e-01   4.187 2.82e-05\nARREST_PRECINCT78                      -3.926e-01  1.399e-01  -2.806 0.005019\nARREST_PRECINCT79                       6.088e-02  1.220e-01   0.499 0.617707\nARREST_PRECINCT81                       3.600e-01  1.312e-01   2.745 0.006059\nARREST_PRECINCT83                       6.031e-01  1.242e-01   4.857 1.19e-06\nARREST_PRECINCT84                      -6.702e-01  1.302e-01  -5.148 2.63e-07\nARREST_PRECINCT88                      -3.947e-02  1.399e-01  -0.282 0.777758\nARREST_PRECINCT90                       1.994e-01  1.282e-01   1.555 0.119940\nARREST_PRECINCT94                              NA         NA      NA       NA\nARREST_PRECINCT100                      1.090e+00  5.952e-01   1.831 0.067036\nARREST_PRECINCT101                      1.216e+00  5.923e-01   2.052 0.040143\nARREST_PRECINCT102                      9.658e-01  5.898e-01   1.637 0.101553\nARREST_PRECINCT103                      4.987e-01  5.882e-01   0.848 0.396553\nARREST_PRECINCT104                      1.304e+00  5.908e-01   2.207 0.027304\nARREST_PRECINCT105                      1.013e+00  5.890e-01   1.720 0.085510\nARREST_PRECINCT106                      1.091e+00  5.899e-01   1.849 0.064472\nARREST_PRECINCT107                      9.069e-01  5.910e-01   1.535 0.124894\nARREST_PRECINCT108                      1.159e+00  5.907e-01   1.962 0.049757\nARREST_PRECINCT109                      7.673e-01  5.890e-01   1.303 0.192678\nARREST_PRECINCT110                      9.237e-01  5.884e-01   1.570 0.116440\nARREST_PRECINCT111                      1.069e+00  5.973e-01   1.790 0.073440\nARREST_PRECINCT112                      5.310e-01  5.933e-01   0.895 0.370834\nARREST_PRECINCT113                      8.733e-01  5.885e-01   1.484 0.137825\nARREST_PRECINCT114                      1.209e+00  5.838e-01   2.071 0.038330\nARREST_PRECINCT115                      1.129e+00  5.890e-01   1.916 0.055318\nARREST_PRECINCT120                     -1.787e-01  1.159e-01  -1.542 0.123184\nARREST_PRECINCT121                     -7.773e-02  1.224e-01  -0.635 0.525550\nARREST_PRECINCT122                      1.817e-01  1.306e-01   1.391 0.164145\nARREST_PRECINCT123                             NA         NA      NA       NA\nAGE_GROUP18-24                         -8.865e-01  5.087e-02 -17.424  < 2e-16\nAGE_GROUP25-44                         -8.574e-01  4.858e-02 -17.651  < 2e-16\nAGE_GROUP45-64                         -8.532e-01  5.036e-02 -16.942  < 2e-16\nAGE_GROUP65+                           -3.302e-01  6.955e-02  -4.748 2.05e-06\nPERP_SEXM                              -6.155e-01  1.754e-02 -35.085  < 2e-16\nPERP_SEXU                              -4.665e-01  5.740e-02  -8.126 4.42e-16\nPERP_RACEASIAN / PACIFIC ISLANDER       4.792e-02  1.241e-01   0.386 0.699433\nPERP_RACEBLACK                         -2.066e-01  1.210e-01  -1.707 0.087824\nPERP_RACEBLACK HISPANIC                -3.176e-01  1.230e-01  -2.583 0.009803\nPERP_RACEUNKNOWN                       -2.488e-01  1.376e-01  -1.808 0.070541\nPERP_RACEWHITE                         -4.371e-01  1.230e-01  -3.554 0.000379\nPERP_RACEWHITE HISPANIC                -1.832e-01  1.213e-01  -1.510 0.130972\ntemp                                    6.251e-05  1.072e-03   0.058 0.953479\nwindspeed                               7.638e-04  1.361e-03   0.561 0.574730\nconditionsOvercast                      1.418e-01  7.296e-02   1.943 0.051996\nconditionsPartially cloudy              3.798e-02  2.850e-02   1.333 0.182667\nconditionsRain                         -9.041e-02  3.309e-02  -2.732 0.006286\nconditionsRain, Overcast                7.995e-02  5.119e-02   1.562 0.118346\nconditionsRain, Partially cloudy        1.003e-01  3.088e-02   3.248 0.001161\nconditionsSnow, Partially cloudy       -3.104e-02  1.439e-01  -0.216 0.829173\nconditionsSnow, Rain, Overcast         -1.576e-01  1.575e-01  -1.001 0.317003\nconditionsSnow, Rain, Partially cloudy -5.824e-02  7.686e-02  -0.758 0.448648\ncloudcover                             -1.354e-03  4.810e-04  -2.816 0.004864\n                                          \n(Intercept)                               \nARREST_DATE                            ***\nLAW_CAT_CDF                               \nLAW_CAT_CDI                               \nLAW_CAT_CDM                               \nLAW_CAT_CDV                               \nARREST_BOROK                           ** \nARREST_BOROM                           *  \nARREST_BOROQ                              \nARREST_BOROS                           ** \nARREST_PRECINCT5                       ***\nARREST_PRECINCT6                       ***\nARREST_PRECINCT7                       ***\nARREST_PRECINCT9                       ***\nARREST_PRECINCT10                      ***\nARREST_PRECINCT13                      ***\nARREST_PRECINCT14                         \nARREST_PRECINCT17                      ***\nARREST_PRECINCT18                      *  \nARREST_PRECINCT19                      ** \nARREST_PRECINCT20                      *  \nARREST_PRECINCT22                      ***\nARREST_PRECINCT23                      ***\nARREST_PRECINCT24                         \nARREST_PRECINCT25                         \nARREST_PRECINCT26                      ***\nARREST_PRECINCT28                      ***\nARREST_PRECINCT30                      ***\nARREST_PRECINCT32                      ***\nARREST_PRECINCT33                      ***\nARREST_PRECINCT34                      ***\nARREST_PRECINCT40                      ***\nARREST_PRECINCT41                      ***\nARREST_PRECINCT42                      ***\nARREST_PRECINCT43                      ***\nARREST_PRECINCT44                      ***\nARREST_PRECINCT45                      ***\nARREST_PRECINCT46                      ***\nARREST_PRECINCT47                      ***\nARREST_PRECINCT48                      ***\nARREST_PRECINCT49                      ***\nARREST_PRECINCT50                      ***\nARREST_PRECINCT52                         \nARREST_PRECINCT60                         \nARREST_PRECINCT61                         \nARREST_PRECINCT62                      ***\nARREST_PRECINCT63                      ** \nARREST_PRECINCT66                      ** \nARREST_PRECINCT67                      ***\nARREST_PRECINCT68                         \nARREST_PRECINCT69                      ** \nARREST_PRECINCT70                      .  \nARREST_PRECINCT71                      *  \nARREST_PRECINCT72                         \nARREST_PRECINCT73                         \nARREST_PRECINCT75                         \nARREST_PRECINCT76                      ***\nARREST_PRECINCT77                      ***\nARREST_PRECINCT78                      ** \nARREST_PRECINCT79                         \nARREST_PRECINCT81                      ** \nARREST_PRECINCT83                      ***\nARREST_PRECINCT84                      ***\nARREST_PRECINCT88                         \nARREST_PRECINCT90                         \nARREST_PRECINCT94                         \nARREST_PRECINCT100                     .  \nARREST_PRECINCT101                     *  \nARREST_PRECINCT102                        \nARREST_PRECINCT103                        \nARREST_PRECINCT104                     *  \nARREST_PRECINCT105                     .  \nARREST_PRECINCT106                     .  \nARREST_PRECINCT107                        \nARREST_PRECINCT108                     *  \nARREST_PRECINCT109                        \nARREST_PRECINCT110                        \nARREST_PRECINCT111                     .  \nARREST_PRECINCT112                        \nARREST_PRECINCT113                        \nARREST_PRECINCT114                     *  \nARREST_PRECINCT115                     .  \nARREST_PRECINCT120                        \nARREST_PRECINCT121                        \nARREST_PRECINCT122                        \nARREST_PRECINCT123                        \nAGE_GROUP18-24                         ***\nAGE_GROUP25-44                         ***\nAGE_GROUP45-64                         ***\nAGE_GROUP65+                           ***\nPERP_SEXM                              ***\nPERP_SEXU                              ***\nPERP_RACEASIAN / PACIFIC ISLANDER         \nPERP_RACEBLACK                         .  \nPERP_RACEBLACK HISPANIC                ** \nPERP_RACEUNKNOWN                       .  \nPERP_RACEWHITE                         ***\nPERP_RACEWHITE HISPANIC                   \ntemp                                      \nwindspeed                                 \nconditionsOvercast                     .  \nconditionsPartially cloudy                \nconditionsRain                         ** \nconditionsRain, Overcast                  \nconditionsRain, Partially cloudy       ** \nconditionsSnow, Partially cloudy          \nconditionsSnow, Rain, Overcast            \nconditionsSnow, Rain, Partially cloudy    \ncloudcover                             ** \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n(Dispersion parameter for binomial family taken to be 1)\n\n    Null deviance: 152365  on 180994  degrees of freedom\nResidual deviance: 112005  on 180889  degrees of freedom\nAIC: 112217\n\nNumber of Fisher Scoring iterations: 18\n```\n:::\n:::\n\n\n\n# Confusion Matrix for log model\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n```\n         Actual\nPredicted     0     1\n        0 38136  6603\n        1   236   274\n```\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"Accuracy: 0.848858538310239\"\n```\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"AUC: 0.822252405869295\"\n```\n:::\n:::\n\n\nTo better evaluate the model, We build a confusion matrix to show the accuracy of the model, which is the proportion of correct predictions (true positives and true negatives) out of the total predictions, is calculated at approximately 84.88%. This indicates that the model performs well in general. Additionally, the Area Under the Curve (AUC) score of 0.8222, shown below the confusion matrix, further confirms the model's effectiveness in distinguishing between the two classes. \n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n```\n    ARREST_DATE LAW_CAT_CD ARREST_BORO ARREST_PRECINCT AGE_GROUP PERP_SEX\n 1:  2023-03-20          M           K              67       <18        F\n 2:  2023-03-27          M           B              48       <18        F\n 3:  2023-04-30          M           M              32       <18        F\n 4:  2023-04-30          M           M              32       <18        F\n 5:  2023-04-30          M           M              32       <18        F\n 6:  2023-06-17          M           M              22     25-44        F\n 7:  2023-07-25          M           B              42       <18        F\n 8:  2023-08-12          M           B              42       <18        F\n 9:  2023-08-16          M           B              47       <18        F\n10:  2023-08-21          M           K              67       <18        F\n11:  2023-09-23          M           K              67       <18        F\n12:  2023-10-09          M           B              47       <18        F\n13:  2023-10-10          M           K              83       <18        F\n14:  2023-10-16          M           B              42       <18        F\n15:  2023-10-24          M           K              67       <18        F\n16:  2023-11-13          M           M              22     25-44        M\n17:  2023-11-29          M           K              67       <18        F\n18:  2023-12-14          M           B              42       <18        F\n19:  2023-12-22          M           M              32       <18        F\n                   PERP_RACE temp windspeed             conditions cloudcover y\n 1:                    BLACK  5.0      17.5                  Clear        0.1 0\n 2:           WHITE HISPANIC 10.3      23.6 Rain, Partially cloudy       41.2 1\n 3:                    BLACK 12.4      21.8         Rain, Overcast      100.0 1\n 4:                    BLACK 12.4      21.8         Rain, Overcast      100.0 1\n 5:                    BLACK 12.4      21.8         Rain, Overcast      100.0 1\n 6:           WHITE HISPANIC 20.9      13.3       Partially cloudy       54.0 1\n 7:           WHITE HISPANIC 24.3      20.1 Rain, Partially cloudy       24.4 1\n 8:                    BLACK 25.4      18.0 Rain, Partially cloudy       26.5 1\n 9:                    BLACK 24.0      19.7 Rain, Partially cloudy       85.3 1\n10:                    BLACK 27.0      12.8       Partially cloudy       21.7 1\n11:                    BLACK 16.4      36.4 Rain, Partially cloudy       81.9 1\n12:           WHITE HISPANIC 13.7      22.3       Partially cloudy       35.5 1\n13:           WHITE HISPANIC 15.1      19.8 Rain, Partially cloudy       62.7 1\n14:           WHITE HISPANIC 14.1      14.7       Partially cloudy       36.7 1\n15:                    BLACK 14.8      14.4                  Clear        0.8 1\n16: ASIAN / PACIFIC ISLANDER  7.5      17.8       Partially cloudy       29.8 1\n17:                    BLACK  1.0      26.2       Partially cloudy       20.7 0\n18:           WHITE HISPANIC  3.8      20.3                  Clear        9.7 1\n19:                    BLACK  1.0      20.2                  Clear        3.2 1\n```\n:::\n:::\n\n\nWe filtered out cases where the logistic regression model predicted a probability greater than 0.70 for the outcome of interest, focusing on instances where the model confidently predicted an arrest as \"ASSAULT 3.\"\n\nThe results indicate that \"ASSAULT 3\" crimes typically occur between March and December, especially during rainy or cloudy weather with temperatures above zero Celsius. These incidents predominantly happen in central Brooklyn, the Bronx, and uptown Manhattan. At the precinct level, Precincts 67, 32, and 42 are notable hotspots.\n\nDemographically, the majority of offenders are African American or White Hispanic, often around or below 18 years of age. Interestingly, the data also shows a significant proportion of female offenders, primarily involved in misdemeanor-level offenses.\n\n\n\n## Decision Trees model\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n\n:::\n\n\nNext， we decide to use Decision tree model to predict whether an arrest falls into the category of \"ASSAULT 3\" based on various demographic, legal, and environmental factors.It will provides a clear framework for understanding and predicting \"ASSAULT 3\", helping law enforcement and policymakers make informed decisions based on data-driven insights. \n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](2024_04_29_blog_7_files/figure-html/unnamed-chunk-16-1.png){width=672}\n:::\n:::\n\nThe decision tree model classifies incidents of \"ASSAULT 3\" based on a probability threshold of 50%. For instance, if the individual is a male, identified as white, and located in Precinct 14, there is only a 22%(Last row, fifth from the begin) chance of an assault crime occurring, thus placing it in the category of unlikely to experience \"ASSAULT 3.\"\n\nConversely, the model predicts a higher likelihood that 76% probability((Last row, fourth from the end)) of an \"ASSAULT 3\" related crime if the perpetrator is a female, non-white, located in Precinct 42, and the cloud cover exceeds 55%. \n\nThis scenario highlights how the decision tree uses combinations of demographic and environmental factors to determine the probability of assault-related offenses.\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n```\nCall:\nrpart(formula = y ~ ., data = train_all, method = \"class\", control = rpart.control(minsplit = 1, \n    minbucket = 1, cp = 3e-04))\n  n= 180995 \n\n            CP nsplit rel error    xerror        xstd\n1 0.0004450708      0 1.0000000 1.0000000 0.005618205\n2 0.0004079816     23 0.9833098 0.9951784 0.005607008\n3 0.0003000000     24 0.9829019 0.9893183 0.005593340\n\nVariable importance\n   LAW_CAT_CDM    LAW_CAT_CDF      PERP_SEXM PERP_RACEWHITE     LAW_CAT_CD \n            46             45              3              1              1 \n     PERP_SEXU    LAW_CAT_CDV \n             1              1 \n\nNode number 1: 180995 observations,    complexity param=0.0004450708\n  predicted class=0  expected loss=0.1489654  P(node) =1\n    class counts: 154033 26962\n   probabilities: 0.851 0.149 \n  left son=2 (81406 obs) right son=3 (99589 obs)\n  Primary splits:\n      LAW_CAT_CDM  < 0.5     to the left,  improve=6566.17800, (0 missing)\n      LAW_CAT_CDF  < 0.5     to the right, improve=6206.44000, (0 missing)\n      PERP_SEXM    < 0.5     to the right, improve= 447.04830, (0 missing)\n      ARREST_BOROM < 0.5     to the right, improve=  62.29161, (0 missing)\n      LAW_CAT_CD   < 0.5     to the right, improve=  56.98774, (0 missing)\n  Surrogate splits:\n      LAW_CAT_CDF       < 0.5     to the right, agree=0.986, adj=0.969, (0 split)\n      LAW_CAT_CD        < 0.5     to the right, agree=0.557, adj=0.016, (0 split)\n      LAW_CAT_CDV       < 0.5     to the right, agree=0.556, adj=0.013, (0 split)\n      ARREST_PRECINCT5  < 0.5     to the right, agree=0.554, adj=0.009, (0 split)\n      ARREST_PRECINCT77 < 0.5     to the right, agree=0.552, adj=0.003, (0 split)\n\nNode number 2: 81406 observations\n  predicted class=0  expected loss=0  P(node) =0.4497693\n    class counts: 81406     0\n   probabilities: 1.000 0.000 \n\nNode number 3: 99589 observations,    complexity param=0.0004450708\n  predicted class=0  expected loss=0.2707327  P(node) =0.5502307\n    class counts: 72627 26962\n   probabilities: 0.729 0.271 \n  left son=6 (78821 obs) right son=7 (20768 obs)\n  Primary splits:\n      PERP_SEXM         < 0.5     to the right, improve=477.22230, (0 missing)\n      ARREST_BOROM      < 0.5     to the right, improve=143.27830, (0 missing)\n      ARREST_PRECINCT14 < 0.5     to the right, improve= 98.92446, (0 missing)\n      ARREST_PRECINCT25 < 0.5     to the right, improve= 79.02140, (0 missing)\n      ARREST_PRECINCT47 < 0.5     to the left,  improve= 69.91668, (0 missing)\n  Surrogate splits:\n      PERP_SEXU < 0.5     to the left,  agree=0.81, adj=0.087, (0 split)\n\nNode number 6: 78821 observations\n  predicted class=0  expected loss=0.2456071  P(node) =0.4354872\n    class counts: 59462 19359\n   probabilities: 0.754 0.246 \n\nNode number 7: 20768 observations,    complexity param=0.0004450708\n  predicted class=0  expected loss=0.3660921  P(node) =0.1147435\n    class counts: 13165  7603\n   probabilities: 0.634 0.366 \n  left son=14 (2405 obs) right son=15 (18363 obs)\n  Primary splits:\n      PERP_RACEWHITE    < 0.5     to the right, improve=120.84440, (0 missing)\n      PERP_RACEBLACK    < 0.5     to the left,  improve= 41.65986, (0 missing)\n      PERP_SEXU         < 0.5     to the right, improve= 40.42381, (0 missing)\n      ARREST_PRECINCT14 < 0.5     to the right, improve= 40.36593, (0 missing)\n      ARREST_PRECINCT46 < 0.5     to the left,  improve= 31.73186, (0 missing)\n  Surrogate splits:\n      ARREST_PRECINCT123 < 0.5     to the right, agree=0.886, adj=0.016, (0 split)\n      ARREST_PRECINCT122 < 0.5     to the right, agree=0.885, adj=0.005, (0 split)\n\nNode number 14: 2405 observations\n  predicted class=0  expected loss=0.2170478  P(node) =0.01328766\n    class counts:  1883   522\n   probabilities: 0.783 0.217 \n\nNode number 15: 18363 observations,    complexity param=0.0004450708\n  predicted class=0  expected loss=0.3856124  P(node) =0.1014558\n    class counts: 11282  7081\n   probabilities: 0.614 0.386 \n  left son=30 (1645 obs) right son=31 (16718 obs)\n  Primary splits:\n      PERP_SEXU         < 0.5     to the right, improve=44.39672, (0 missing)\n      ARREST_PRECINCT14 < 0.5     to the right, improve=38.70121, (0 missing)\n      ARREST_PRECINCT46 < 0.5     to the left,  improve=28.09559, (0 missing)\n      ARREST_PRECINCT52 < 0.5     to the right, improve=26.42396, (0 missing)\n      ARREST_PRECINCT42 < 0.5     to the left,  improve=22.70366, (0 missing)\n  Surrogate splits:\n      PERP_RACEUNKNOWN < 0.5     to the right, agree=0.915, adj=0.057, (0 split)\n\nNode number 30: 1645 observations\n  predicted class=0  expected loss=0.274772  P(node) =0.009088649\n    class counts:  1193   452\n   probabilities: 0.725 0.275 \n\nNode number 31: 16718 observations,    complexity param=0.0004450708\n  predicted class=0  expected loss=0.3965187  P(node) =0.09236719\n    class counts: 10089  6629\n   probabilities: 0.603 0.397 \n  left son=62 (539 obs) right son=63 (16179 obs)\n  Primary splits:\n      ARREST_PRECINCT14 < 0.5     to the right, improve=35.13273, (0 missing)\n      ARREST_PRECINCT46 < 0.5     to the left,  improve=31.22499, (0 missing)\n      ARREST_PRECINCT52 < 0.5     to the right, improve=24.75762, (0 missing)\n      ARREST_PRECINCT42 < 0.5     to the left,  improve=20.53621, (0 missing)\n      ARREST_PRECINCT32 < 0.5     to the left,  improve=16.77097, (0 missing)\n\nNode number 62: 539 observations\n  predicted class=0  expected loss=0.2189239  P(node) =0.002977983\n    class counts:   421   118\n   probabilities: 0.781 0.219 \n\nNode number 63: 16179 observations,    complexity param=0.0004450708\n  predicted class=0  expected loss=0.4024353  P(node) =0.08938921\n    class counts:  9668  6511\n   probabilities: 0.598 0.402 \n  left son=126 (15721 obs) right son=127 (458 obs)\n  Primary splits:\n      ARREST_PRECINCT46  < 0.5     to the left,  improve=29.25620, (0 missing)\n      ARREST_PRECINCT52  < 0.5     to the right, improve=26.67374, (0 missing)\n      ARREST_PRECINCT42  < 0.5     to the left,  improve=19.08854, (0 missing)\n      ARREST_PRECINCT110 < 0.5     to the right, improve=17.29538, (0 missing)\n      ARREST_BOROS       < 0.5     to the right, improve=16.88308, (0 missing)\n\nNode number 126: 15721 observations,    complexity param=0.0004450708\n  predicted class=0  expected loss=0.397303  P(node) =0.08685875\n    class counts:  9475  6246\n   probabilities: 0.603 0.397 \n  left son=252 (482 obs) right son=253 (15239 obs)\n  Primary splits:\n      ARREST_PRECINCT52  < 0.5     to the right, improve=25.05128, (0 missing)\n      ARREST_PRECINCT42  < 0.5     to the left,  improve=20.36907, (0 missing)\n      ARREST_PRECINCT32  < 0.5     to the left,  improve=16.64146, (0 missing)\n      ARREST_PRECINCT110 < 0.5     to the right, improve=16.00387, (0 missing)\n      ARREST_PRECINCT67  < 0.5     to the left,  improve=15.60341, (0 missing)\n\nNode number 127: 458 observations\n  predicted class=1  expected loss=0.4213974  P(node) =0.002530457\n    class counts:   193   265\n   probabilities: 0.421 0.579 \n\nNode number 252: 482 observations\n  predicted class=0  expected loss=0.2385892  P(node) =0.002663057\n    class counts:   367   115\n   probabilities: 0.761 0.239 \n\nNode number 253: 15239 observations,    complexity param=0.0004450708\n  predicted class=0  expected loss=0.402323  P(node) =0.0841957\n    class counts:  9108  6131\n   probabilities: 0.598 0.402 \n  left son=506 (14862 obs) right son=507 (377 obs)\n  Primary splits:\n      ARREST_PRECINCT42  < 0.5     to the left,  improve=19.14398, (0 missing)\n      ARREST_PRECINCT110 < 0.5     to the right, improve=17.29834, (0 missing)\n      ARREST_BOROS       < 0.5     to the right, improve=16.89363, (0 missing)\n      ARREST_PRECINCT32  < 0.5     to the left,  improve=15.73019, (0 missing)\n      ARREST_PRECINCT67  < 0.5     to the left,  improve=14.67431, (0 missing)\n\nNode number 506: 14862 observations,    complexity param=0.0004450708\n  predicted class=0  expected loss=0.3983313  P(node) =0.08211277\n    class counts:  8942  5920\n   probabilities: 0.602 0.398 \n  left son=1012 (14607 obs) right son=1013 (255 obs)\n  Primary splits:\n      ARREST_PRECINCT32  < 0.5     to the left,  improve=16.46667, (0 missing)\n      ARREST_PRECINCT110 < 0.5     to the right, improve=16.29072, (0 missing)\n      ARREST_BOROS       < 0.5     to the right, improve=15.70582, (0 missing)\n      ARREST_PRECINCT67  < 0.5     to the left,  improve=15.42532, (0 missing)\n      ARREST_PRECINCT48  < 0.5     to the left,  improve=14.92448, (0 missing)\n\nNode number 507: 377 observations\n  predicted class=1  expected loss=0.4403183  P(node) =0.00208293\n    class counts:   166   211\n   probabilities: 0.440 0.560 \n\nNode number 1012: 14607 observations,    complexity param=0.0004450708\n  predicted class=0  expected loss=0.3952215  P(node) =0.08070389\n    class counts:  8834  5773\n   probabilities: 0.605 0.395 \n  left son=2024 (14324 obs) right son=2025 (283 obs)\n  Primary splits:\n      ARREST_PRECINCT67  < 0.5     to the left,  improve=16.02310, (0 missing)\n      ARREST_PRECINCT48  < 0.5     to the left,  improve=15.60832, (0 missing)\n      ARREST_PRECINCT110 < 0.5     to the right, improve=15.52519, (0 missing)\n      ARREST_BOROS       < 0.5     to the right, improve=14.80824, (0 missing)\n      ARREST_PRECINCT47  < 0.5     to the left,  improve=14.36577, (0 missing)\n\nNode number 1013: 255 observations,    complexity param=0.0004450708\n  predicted class=1  expected loss=0.4235294  P(node) =0.001408879\n    class counts:   108   147\n   probabilities: 0.424 0.576 \n  left son=2026 (77 obs) right son=2027 (178 obs)\n  Primary splits:\n      ARREST_DATE             < 19468.5 to the left,  improve=6.669697, (0 missing)\n      windspeed               < 21.75   to the left,  improve=3.403168, (0 missing)\n      cloudcover              < 56.9    to the left,  improve=2.609295, (0 missing)\n      temp                    < 13.9    to the left,  improve=1.902982, (0 missing)\n      PERP_RACEBLACK.HISPANIC < 0.5     to the left,  improve=1.573813, (0 missing)\n  Surrogate splits:\n      temp                                   < 7.1     to the left,  agree=0.804, adj=0.351, (0 split)\n      PERP_RACEASIAN...PACIFIC.ISLANDER      < 0.5     to the right, agree=0.706, adj=0.026, (0 split)\n      conditionsSnow..Rain..Partially.cloudy < 0.5     to the right, agree=0.706, adj=0.026, (0 split)\n      windspeed                              < 36.75   to the right, agree=0.706, adj=0.026, (0 split)\n      cloudcover                             < 0.2     to the left,  agree=0.706, adj=0.026, (0 split)\n\nNode number 2024: 14324 observations,    complexity param=0.0004450708\n  predicted class=0  expected loss=0.3919296  P(node) =0.07914031\n    class counts:  8710  5614\n   probabilities: 0.608 0.392 \n  left son=4048 (13946 obs) right son=4049 (378 obs)\n  Primary splits:\n      ARREST_PRECINCT48  < 0.5     to the left,  improve=16.34992, (0 missing)\n      ARREST_PRECINCT47  < 0.5     to the left,  improve=15.10929, (0 missing)\n      ARREST_PRECINCT110 < 0.5     to the right, improve=14.73526, (0 missing)\n      ARREST_BOROS       < 0.5     to the right, improve=13.88720, (0 missing)\n      ARREST_PRECINCT83  < 0.5     to the left,  improve=12.89547, (0 missing)\n\nNode number 2025: 283 observations,    complexity param=0.0004450708\n  predicted class=1  expected loss=0.4381625  P(node) =0.001563579\n    class counts:   124   159\n   probabilities: 0.438 0.562 \n  left son=4050 (99 obs) right son=4051 (184 obs)\n  Primary splits:\n      cloudcover              < 50.05   to the right, improve=10.774860, (0 missing)\n      temp                    < 2.35    to the left,  improve= 4.536259, (0 missing)\n      PERP_RACEBLACK          < 0.5     to the right, improve= 3.180716, (0 missing)\n      ARREST_DATE             < 19499   to the left,  improve= 2.932719, (0 missing)\n      PERP_RACEBLACK.HISPANIC < 0.5     to the left,  improve= 2.370854, (0 missing)\n  Surrogate splits:\n      conditionsRain..Overcast < 0.5     to the right, agree=0.756, adj=0.303, (0 split)\n      windspeed                < 30.9    to the right, agree=0.696, adj=0.131, (0 split)\n      ARREST_DATE              < 19384   to the left,  agree=0.671, adj=0.061, (0 split)\n      AGE_GROUP65.             < 0.5     to the right, agree=0.657, adj=0.020, (0 split)\n      conditionsOvercast       < 0.5     to the right, agree=0.657, adj=0.020, (0 split)\n\nNode number 2026: 77 observations,    complexity param=0.0004450708\n  predicted class=0  expected loss=0.4025974  P(node) =0.0004254261\n    class counts:    46    31\n   probabilities: 0.597 0.403 \n  left son=4052 (52 obs) right son=4053 (25 obs)\n  Primary splits:\n      cloudcover              < 55.1    to the left,  improve=9.457423, (0 missing)\n      temp                    < 6.35    to the right, improve=4.417010, (0 missing)\n      ARREST_DATE             < 19383.5 to the right, improve=4.172807, (0 missing)\n      windspeed               < 22.95   to the left,  improve=4.013471, (0 missing)\n      PERP_RACEBLACK.HISPANIC < 0.5     to the left,  improve=1.421314, (0 missing)\n  Surrogate splits:\n      ARREST_DATE              < 19383.5 to the right, agree=0.818, adj=0.44, (0 split)\n      conditionsRain..Overcast < 0.5     to the left,  agree=0.779, adj=0.32, (0 split)\n      windspeed                < 22.95   to the left,  agree=0.714, adj=0.12, (0 split)\n      temp                     < 3.75    to the right, agree=0.688, adj=0.04, (0 split)\n\nNode number 2027: 178 observations\n  predicted class=1  expected loss=0.3483146  P(node) =0.0009834526\n    class counts:    62   116\n   probabilities: 0.348 0.652 \n\nNode number 4048: 13946 observations,    complexity param=0.0004450708\n  predicted class=0  expected loss=0.3879966  P(node) =0.07705185\n    class counts:  8535  5411\n   probabilities: 0.612 0.388 \n  left son=8096 (13535 obs) right son=8097 (411 obs)\n  Primary splits:\n      ARREST_PRECINCT47  < 0.5     to the left,  improve=16.02470, (0 missing)\n      ARREST_PRECINCT110 < 0.5     to the right, improve=13.81971, (0 missing)\n      ARREST_PRECINCT83  < 0.5     to the left,  improve=13.43397, (0 missing)\n      ARREST_BOROS       < 0.5     to the right, improve=12.82694, (0 missing)\n      ARREST_PRECINCT23  < 0.5     to the left,  improve=11.64730, (0 missing)\n\nNode number 4049: 378 observations,    complexity param=0.0004450708\n  predicted class=1  expected loss=0.462963  P(node) =0.002088455\n    class counts:   175   203\n   probabilities: 0.463 0.537 \n  left son=8098 (110 obs) right son=8099 (268 obs)\n  Primary splits:\n      windspeed                         < 21.55   to the right, improve=5.079652, (0 missing)\n      temp                              < 9.6     to the left,  improve=4.725793, (0 missing)\n      ARREST_DATE                       < 19425.5 to the left,  improve=3.647406, (0 missing)\n      cloudcover                        < 97.55   to the right, improve=2.540741, (0 missing)\n      PERP_RACEASIAN...PACIFIC.ISLANDER < 0.5     to the right, improve=2.331947, (0 missing)\n  Surrogate splits:\n      cloudcover                             < 93.5    to the right, agree=0.733, adj=0.082, (0 split)\n      ARREST_DATE                            < 19396   to the left,  agree=0.728, adj=0.064, (0 split)\n      conditionsRain..Overcast               < 0.5     to the right, agree=0.725, adj=0.055, (0 split)\n      conditionsSnow..Rain..Partially.cloudy < 0.5     to the right, agree=0.722, adj=0.045, (0 split)\n      temp                                   < 2.2     to the left,  agree=0.720, adj=0.036, (0 split)\n\nNode number 4050: 99 observations\n  predicted class=0  expected loss=0.3737374  P(node) =0.0005469764\n    class counts:    62    37\n   probabilities: 0.626 0.374 \n\nNode number 4051: 184 observations\n  predicted class=1  expected loss=0.3369565  P(node) =0.001016603\n    class counts:    62   122\n   probabilities: 0.337 0.663 \n\nNode number 4052: 52 observations\n  predicted class=0  expected loss=0.2307692  P(node) =0.0002873008\n    class counts:    40    12\n   probabilities: 0.769 0.231 \n\nNode number 4053: 25 observations\n  predicted class=1  expected loss=0.24  P(node) =0.0001381254\n    class counts:     6    19\n   probabilities: 0.240 0.760 \n\nNode number 8096: 13535 observations,    complexity param=0.0004450708\n  predicted class=0  expected loss=0.3838197  P(node) =0.07478107\n    class counts:  8340  5195\n   probabilities: 0.616 0.384 \n  left son=16192 (13362 obs) right son=16193 (173 obs)\n  Primary splits:\n      ARREST_PRECINCT83  < 0.5     to the left,  improve=14.01853, (0 missing)\n      ARREST_PRECINCT110 < 0.5     to the right, improve=12.87975, (0 missing)\n      ARREST_PRECINCT23  < 0.5     to the left,  improve=12.27970, (0 missing)\n      ARREST_BOROS       < 0.5     to the right, improve=11.74701, (0 missing)\n      ARREST_PRECINCT78  < 0.5     to the right, improve=11.13040, (0 missing)\n\nNode number 8097: 411 observations,    complexity param=0.0004450708\n  predicted class=1  expected loss=0.4744526  P(node) =0.002270781\n    class counts:   195   216\n   probabilities: 0.474 0.526 \n  left son=16194 (290 obs) right son=16195 (121 obs)\n  Primary splits:\n      ARREST_DATE        < 19629.5 to the left,  improve=4.211780, (0 missing)\n      AGE_GROUP25.44     < 0.5     to the right, improve=3.662325, (0 missing)\n      cloudcover         < 13.95   to the right, improve=2.967922, (0 missing)\n      conditionsOvercast < 0.5     to the left,  improve=2.278775, (0 missing)\n      windspeed          < 17      to the right, improve=2.249239, (0 missing)\n  Surrogate splits:\n      PERP_RACEASIAN...PACIFIC.ISLANDER < 0.5     to the left,  agree=0.713, adj=0.025, (0 split)\n      windspeed                         < 10.95   to the right, agree=0.713, adj=0.025, (0 split)\n\nNode number 8098: 110 observations\n  predicted class=0  expected loss=0.4090909  P(node) =0.0006077516\n    class counts:    65    45\n   probabilities: 0.591 0.409 \n\nNode number 8099: 268 observations\n  predicted class=1  expected loss=0.4104478  P(node) =0.001480704\n    class counts:   110   158\n   probabilities: 0.410 0.590 \n\nNode number 16192: 13362 observations,    complexity param=0.0004450708\n  predicted class=0  expected loss=0.3812304  P(node) =0.07382524\n    class counts:  8268  5094\n   probabilities: 0.619 0.381 \n  left son=32384 (13131 obs) right son=32385 (231 obs)\n  Primary splits:\n      ARREST_PRECINCT23  < 0.5     to the left,  improve=12.67914, (0 missing)\n      ARREST_PRECINCT110 < 0.5     to the right, improve=12.31080, (0 missing)\n      ARREST_PRECINCT49  < 0.5     to the left,  improve=11.46907, (0 missing)\n      ARREST_BOROS       < 0.5     to the right, improve=11.09750, (0 missing)\n      AGE_GROUP25.44     < 0.5     to the right, improve=10.88149, (0 missing)\n\nNode number 16193: 173 observations\n  predicted class=1  expected loss=0.416185  P(node) =0.0009558275\n    class counts:    72   101\n   probabilities: 0.416 0.584 \n\nNode number 16194: 290 observations,    complexity param=0.0004450708\n  predicted class=0  expected loss=0.4793103  P(node) =0.001602254\n    class counts:   151   139\n   probabilities: 0.521 0.479 \n  left son=32388 (172 obs) right son=32389 (118 obs)\n  Primary splits:\n      windspeed          < 17      to the right, improve=3.115540, (0 missing)\n      ARREST_DATE        < 19586.5 to the right, improve=2.246876, (0 missing)\n      conditionsOvercast < 0.5     to the left,  improve=2.199277, (0 missing)\n      cloudcover         < 1.05    to the right, improve=2.092465, (0 missing)\n      temp               < 4.1     to the right, improve=1.492971, (0 missing)\n  Surrogate splits:\n      temp                       < 24.85   to the left,  agree=0.669, adj=0.186, (0 split)\n      conditionsPartially.cloudy < 0.5     to the left,  agree=0.648, adj=0.136, (0 split)\n      ARREST_DATE                < 19507.5 to the left,  agree=0.624, adj=0.076, (0 split)\n      conditionsRain             < 0.5     to the left,  agree=0.621, adj=0.068, (0 split)\n      cloudcover                 < 3.6     to the right, agree=0.610, adj=0.042, (0 split)\n\nNode number 16195: 121 observations\n  predicted class=1  expected loss=0.3636364  P(node) =0.0006685268\n    class counts:    44    77\n   probabilities: 0.364 0.636 \n\nNode number 32384: 13131 observations,    complexity param=0.0004450708\n  predicted class=0  expected loss=0.3783413  P(node) =0.07254897\n    class counts:  8163  4968\n   probabilities: 0.622 0.378 \n  left son=64768 (12935 obs) right son=64769 (196 obs)\n  Primary splits:\n      ARREST_PRECINCT49  < 0.5     to the left,  improve=11.86580, (0 missing)\n      ARREST_PRECINCT110 < 0.5     to the right, improve=11.69231, (0 missing)\n      ARREST_PRECINCT81  < 0.5     to the left,  improve=11.14122, (0 missing)\n      ARREST_PRECINCT77  < 0.5     to the left,  improve=10.81028, (0 missing)\n      ARREST_PRECINCT78  < 0.5     to the right, improve=10.49826, (0 missing)\n\nNode number 32385: 231 observations\n  predicted class=1  expected loss=0.4545455  P(node) =0.001276278\n    class counts:   105   126\n   probabilities: 0.455 0.545 \n\nNode number 32388: 172 observations\n  predicted class=0  expected loss=0.4186047  P(node) =0.0009503025\n    class counts:   100    72\n   probabilities: 0.581 0.419 \n\nNode number 32389: 118 observations\n  predicted class=1  expected loss=0.4322034  P(node) =0.0006519517\n    class counts:    51    67\n   probabilities: 0.432 0.568 \n\nNode number 64768: 12935 observations,    complexity param=0.0004450708\n  predicted class=0  expected loss=0.3757248  P(node) =0.07146606\n    class counts:  8075  4860\n   probabilities: 0.624 0.376 \n  left son=129536 (12807 obs) right son=129537 (128 obs)\n  Primary splits:\n      ARREST_PRECINCT81  < 0.5     to the left,  improve=11.425550, (0 missing)\n      ARREST_PRECINCT77  < 0.5     to the left,  improve=11.157880, (0 missing)\n      ARREST_PRECINCT110 < 0.5     to the right, improve=11.145370, (0 missing)\n      ARREST_PRECINCT78  < 0.5     to the right, improve=10.202900, (0 missing)\n      ARREST_BOROS       < 0.5     to the right, improve= 9.779563, (0 missing)\n\nNode number 64769: 196 observations\n  predicted class=1  expected loss=0.4489796  P(node) =0.001082903\n    class counts:    88   108\n   probabilities: 0.449 0.551 \n\nNode number 129536: 12807 observations,    complexity param=0.0004450708\n  predicted class=0  expected loss=0.3736238  P(node) =0.07075886\n    class counts:  8022  4785\n   probabilities: 0.626 0.374 \n  left son=259072 (12612 obs) right son=259073 (195 obs)\n  Primary splits:\n      ARREST_PRECINCT77  < 0.5     to the left,  improve=11.440680, (0 missing)\n      ARREST_PRECINCT110 < 0.5     to the right, improve=10.714660, (0 missing)\n      ARREST_PRECINCT78  < 0.5     to the right, improve= 9.968505, (0 missing)\n      ARREST_BOROS       < 0.5     to the right, improve= 9.296893, (0 missing)\n      AGE_GROUP25.44     < 0.5     to the right, improve= 8.805863, (0 missing)\n\nNode number 129537: 128 observations\n  predicted class=1  expected loss=0.4140625  P(node) =0.0007072019\n    class counts:    53    75\n   probabilities: 0.414 0.586 \n\nNode number 259072: 12612 observations\n  predicted class=0  expected loss=0.3709959  P(node) =0.06968148\n    class counts:  7933  4679\n   probabilities: 0.629 0.371 \n\nNode number 259073: 195 observations,    complexity param=0.0004079816\n  predicted class=1  expected loss=0.4564103  P(node) =0.001077378\n    class counts:    89   106\n   probabilities: 0.456 0.544 \n  left son=518146 (87 obs) right son=518147 (108 obs)\n  Primary splits:\n      windspeed    < 17.95   to the left,  improve=3.584006, (0 missing)\n      ARREST_DATE  < 19603.5 to the right, improve=3.188989, (0 missing)\n      AGE_GROUP65. < 0.5     to the right, improve=1.800641, (0 missing)\n      cloudcover   < 67.35   to the right, improve=1.499976, (0 missing)\n      temp         < 1.65    to the right, improve=1.269391, (0 missing)\n  Surrogate splits:\n      temp                       < 21.4    to the right, agree=0.656, adj=0.230, (0 split)\n      ARREST_DATE                < 19520.5 to the right, agree=0.590, adj=0.080, (0 split)\n      conditionsPartially.cloudy < 0.5     to the right, agree=0.585, adj=0.069, (0 split)\n      conditionsRain             < 0.5     to the right, agree=0.585, adj=0.069, (0 split)\n      cloudcover                 < 3.6     to the left,  agree=0.585, adj=0.069, (0 split)\n\nNode number 518146: 87 observations\n  predicted class=0  expected loss=0.4367816  P(node) =0.0004806763\n    class counts:    49    38\n   probabilities: 0.563 0.437 \n\nNode number 518147: 108 observations\n  predicted class=1  expected loss=0.3703704  P(node) =0.0005967016\n    class counts:    40    68\n   probabilities: 0.370 0.630 \n```\n:::\n:::\n\n\n\n#Confusion Matrix \n\n::: {.cell}\n\n:::\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n```\n         Actual\nPredicted     0     1\n        0 38076  6557\n        1   296   320\n```\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"Accuracy: 0.848549139207496\"\n```\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"AUC: 0.789745859173009\"\n```\n:::\n:::\n\n\nTo better evaluate the model, We build a confusion matrix to show the accuracy of the model, which is the proportion of correct predictions (true positives and true negatives) out of the total predictions, is calculated at approximately 84.86%. This indicates that the model performs well in general. Additionally, the Area Under the Curve (AUC) score of 0.7897, shown below the confusion matrix, further confirms the model's effectiveness in distinguishing between the two classes. \n\n\n\n## Compare the Accuracy between these two models\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](2024_04_29_blog_7_files/figure-html/unnamed-chunk-21-1.png){width=672}\n:::\n:::\n\n\nWe use the ROC curves to evaluate the performance of classification models. The area under the curve (AUC) for each model can be used to quantify the overall performance. The higher the AUC, the better the model's ability to discriminate between the two classes.The logistic model (red curve) appears to outperform the tree model (blue curve) by achieving a higher AUC, which indicates that it has a better overall classification performance for the arrest data. \n\n\n\n### Polish our graphs and charts\n\nTitles and Labels: We are going to craft clear, descriptive titles and axis labels that succinctly convey the meaning of the data, and use numbers to label each in sequence.\n\nLegends: We need to ensure legends are clear and correctly positioned. Modify legend titles to be informative and concise. Use a color scale that is intuitive and provides good contrast for the data represented.\n\nCaptions: we need to include captions that explain the visualization in a bit more detail, highlighting key findings or noting any caveats about the data.\n\nScales and Breaks: We decide to adjust scales and breaks on axes to make sure they are appropriate for the data’s range and distribution. \n\nColor Choices: We will ensure consistency across multiple visualizations, with the same color schemes, label formats, and styles used throughout.\n\n\nWe are planning to add a interactive graph that could brief will the crime variables in our dataset.\n\n\n\n",
    "supporting": [
      "2024_04_29_blog_7_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>MA [46]15 Final Project --- TEAM 14 – untitledqmd</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

<script src="../site_libs/kePrint-0.0.1/kePrint.js"></script>
<link href="../site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">MA [46]15 Final Project — TEAM 14</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../about.html" rel="" target="">
 <span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../big_picture.html" rel="" target="">
 <span class="menu-text">Big Picture</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../analysis.html" rel="" target="">
 <span class="menu-text">Analysis</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../data.html" rel="" target="">
 <span class="menu-text">Data</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">



<p>title: “Explantory ANALYSIS Jiatong” author: “Jiatong Ding” format: gfm</p>
<hr>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">suppressPackageStartupMessages</span>(<span class="fu">library</span>(tidyverse))</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">suppressPackageStartupMessages</span>(<span class="fu">library</span>(stringr))</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">suppressPackageStartupMessages</span>(<span class="fu">library</span>(dplyr))</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>ds <span class="ot">&lt;-</span> <span class="fu">read_rds</span>(<span class="st">"dataset/NYPD.rds"</span>)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse) </span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(kableExtra)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'kableExtra'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:dplyr':

    group_rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggcorrplot)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggmap)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>ℹ Google's Terms of Service: &lt;https://mapsplatform.google.com&gt;
  Stadia Maps' Terms of Service: &lt;https://stadiamaps.com/terms-of-service/&gt;
  OpenStreetMap's Tile Usage Policy: &lt;https://operations.osmfoundation.org/policies/tiles/&gt;
ℹ Please cite ggmap if you use it! Use `citation("ggmap")` for details.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(leaflet)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(patchwork)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>ds <span class="ot">&lt;-</span> <span class="fu">read_rds</span>(<span class="st">"dataset/load_and_clean_data.rds"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>ds<span class="sc">|&gt;</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span>AGE_GROUP))<span class="sc">+</span> <span class="fu">geom_bar</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="UntitledQMD_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>It shows all range of age level in the data, no unusual data.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>ds<span class="sc">|&gt;</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">count</span>(PERP_SEX)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  PERP_SEX      n
1        F  39334
2        M 183409
3        U   3501</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>ds<span class="sc">|&gt;</span> </span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(PD_DESC)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                                                   PD_DESC     n
1                                A.B.C.,FALSE PROOF OF AGE     2
2                                           ABANDON ANIMAL     2
3                                     ACCOSTING,FRAUDULENT    55
4                           ADM.CODE,UNCLASSIFIED MISDEMEA    14
5                           ADM.CODE,UNCLASSIFIED VIOLATIO    34
6                             AGGRAVATED CRIMINAL CONTEMPT   292
7                          AGGRAVATED GRAND LARCENY OF ATM   191
8                                  AGGRAVATED HARASSMENT 1   110
9                                  AGGRAVATED HARASSMENT 2  3408
10                                AGGRAVATED SEXUAL ASBUSE    16
11                          ALCOHOLIC BEVERAGE CONTROL LAW   153
12                          ALCOHOLIC BEVERAGES,PUBLIC CON   134
13                                                 ARSON 1    10
14                                             ARSON 2,3,4   145
15                                ASSAULT 2,1,UNCLASSIFIED 15496
16                                               ASSAULT 3 24744
17                            ASSAULT POLICE/PEACE OFFICER  1948
18                                       ASSEMBLY,UNLAWFUL     5
19                                      BAIL JUMPING 1 &amp; 2   414
20                                          BAIL JUMPING 3   636
21                                      BRIBERY,COMMERCIAL     4
22                                           BRIBERY,FRAUD     1
23                           BRIBERY,PUBLIC ADMINISTRATION   432
24                             BURGLARS TOOLS,UNCLASSIFIED   589
25                                BURGLARY,RESIDENCE,NIGHT   698
26                           BURGLARY,UNCLASSIFIED,UNKNOWN  5595
27                                     CANNABIS POSSESSION     1
28                                CANNABIS POSSESSION, 2&amp;1   220
29                                  CANNABIS POSSESSION, 3   153
30                                           CANNABIS SALE     3
31                                      CANNABIS SALE, 2&amp;1     8
32                                        CANNABIS SALE, 3    55
33                               CANNABIS SALE, AGGRAVATED     2
34                                   CAUSE SPI/KILL ANIMAL    10
35                                               CHECK,BAD     2
36                                       CHILD ABANDONMENT    50
37                              CHILD, ENDANGERING WELFARE  3178
38                          CHILD,OFFENSES AGAINST,UNCLASS    37
39                                              COERCION 1    33
40                                              COERCION 2     3
41                               COMPUTER TAMPER/TRESSPASS     3
42                             COMPUTER UNAUTH. USE/TAMPER     1
43                                         CONSPIRACY 2, 1    71
44                                         CONSPIRACY 4, 3    39
45                                         CONSPIRACY 6, 5     9
46                                       CONTEMPT,CRIMINAL  2119
47                          CONTROLLED SUBSTANCE, INTENT T   706
48                          CONTROLLED SUBSTANCE, POSSESSI  7966
49                            CONTROLLED SUBSTANCE, SALE 4    21
50                            CONTROLLED SUBSTANCE, SALE 5    34
51                          CONTROLLED SUBSTANCE,INTENT TO  4176
52                           CONTROLLED SUBSTANCE,POSSESS.   951
53                             CONTROLLED SUBSTANCE,SALE 1   128
54                             CONTROLLED SUBSTANCE,SALE 2   124
55                             CONTROLLED SUBSTANCE,SALE 3  1133
56                          COURSE OF SEXUAL CONDUCT AGAIN    43
57                             CREDIT CARD,UNLAWFUL USE OF     1
58                                         CRIM POS WEAP 4     5
59                                     CRIMINAL CONTEMPT 1   722
60                             CRIMINAL DISPOSAL FIREARM 1    25
61                                      CRIMINAL MIS 2 &amp; 3  4775
62                          CRIMINAL MISCHIEF 4TH, GRAFFIT  1095
63                        CRIMINAL MISCHIEF,UNCLASSIFIED 4  3731
64                              CRIMINAL POSSESSION WEAPON  4700
65                                CUSTODIAL INTERFERENCE 1     6
66                                CUSTODIAL INTERFERENCE 2     6
67                                    DIS. CON.,AGGRAVATED     2
68                                      DISORDERLY CONDUCT    47
69                          DRUG PARAPHERNALIA,   POSSESSE   276
70                   END WELFARE VULNERABLE ELDERLY PERSON     5
71                                   ENTERPRISE CORRUPTION     2
72                                              ESCAPE 2,1    16
73                                                ESCAPE 3     7
74                                    EXPOSURE OF A PERSON     4
75                                      F.C.A. NON SUPPORT     1
76                              F.C.A. ORDER OF PROTECTION     1
77                            FACILITATION 3,2,1, CRIMINAL     2
78                                FACILITATION 4, CRIMINAL    11
79                                          FAIL TO SIGNAL     1
80                                  FAIL TO STOP ON SIGNAL     5
81                                        FALSE ALARM FIRE    17
82                                     FALSE REPORT 1,FIRE     5
83                                       FALSE REPORT BOMB     1
84                               FALSE REPORT UNCLASSIFIED    82
85                                 FIREARMS LICENSING LAWS     2
86                                  FIREWORKS, POSSESS/USE     1
87                                         FIREWORKS, SALE     7
88                                       FORCIBLE TOUCHING   456
89                          FORGERY,ETC.,UNCLASSIFIED-FELO  3375
90                                      FORGERY,ETC.-MISD.  4960
91                               FORGERY,M.V. REGISTRATION    54
92                                    FORGERY,PRESCRIPTION     5
93                          FORGERY-ILLEGAL POSSESSION,VEH   615
94                               FRAUD,UNCLASSIFIED-FELONY   174
95                          FRAUD,UNCLASSIFIED-MISDEMEANOR    55
96                         FUGITIVE/OTHER JURISDICTION NYS    61
97                                   FUGITIVE/OTHER STATES   197
98                          GAMBLING 1,PROMOTING,BOOKMAKIN    10
99                             GAMBLING 1,PROMOTING,POLICY    28
100                         GAMBLING 2, PROMOTING, POLICY-     1
101                         GAMBLING 2,PROMOTING,UNCLASSIF   167
102                           GAMBLING, DEVICE, POSSESSION   164
103                    GENERAL BUSINESS LAW / UNCLASSIFIED    10
104                             HARASSMENT,SUBD 1,CIVILIAN    48
105                                  HARASSMENT,SUBD 3,4,5    50
106                          HOMICIDE, NEGLIGENT, VEHICLE,     3
107                         HOMICIDE,NEGLIGENT,UNCLASSIFIE    42
108                             IMPAIRED DRIVING / ALCOHOL     8
109                                IMPAIRED DRIVING, DRUGS     6
110                                  IMPAIRED DRIVING,DRUG    76
111                         IMPERSONATION 1, POLICE OFFICE    28
112                         IMPERSONATION 2, PUBLIC SERVAN   685
113                                IMPRISONMENT 1,UNLAWFUL    52
114                                IMPRISONMENT 2,UNLAWFUL   136
115                                        IMPROPER LIGHTS    11
116                                               INCEST 3     3
117               INCOMPETENT PERSON,KNOWINGLY ENDANGERING    25
118               INCOMPETENT PERSON,RECKLESSY ENDANGERING    50
119                            INTOXICATED DRIVING,ALCOHOL  2878
120                                               JOSTLING   141
121                                           KIDNAPPING 1    19
122                                           KIDNAPPING 2    24
123                             LARCENY,GRAND BY EXTORTION   100
124                  LARCENY,GRAND BY THEFT OF CREDIT CARD     7
125 LARCENY,GRAND FROM BUILDING (NON-RESIDENCE) UNATTENDED     2
126              LARCENY,GRAND FROM OPEN AREAS, UNATTENDED  9003
127                         LARCENY,GRAND FROM PERSON,UNCL  1363
128                                  LARCENY,GRAND OF AUTO  2000
129                         LARCENY,PETIT BY ACQUIRING LOS    68
130                         LARCENY,PETIT FROM OPEN AREAS, 23820
131                         LEAVING SCENE-ACCIDENT-PERSONA   389
132   LEAVING THE SCENE / PROPERTY DAMAGE / INJURED ANIMAL    64
133                                        LEWDNESS,PUBLIC   320
134                                         LURING A CHILD    16
135                              MAKING TERRORISTIC THREAT   156
136                         MANSLAUGHTER,UNCLASSIFIED - NO    64
137                  MANUFATURE, TRANSPORT, DEFACE, ETC...     1
138                         MATERIAL              OFFENSIV   154
139                          MENACING 1ST DEGREE (VICT NOT   368
140                                  MENACING,UNCLASSIFIED  5784
141                          MISCHIEF 1,CRIMINAL,EXPLOSIVE    36
142                         MISCHIEF, CRIMINAL 3 &amp; 2, OF M     8
143                          MISCHIEF, CRIMINAL 4, BY FIRE    15
144                         MISCHIEF, CRIMINAL 4, OF MOTOR    14
145                         MISCHIEF,CRIMINAL,    UNCL 2ND   772
146                                 MONEY LAUNDERING 1 &amp; 2     9
147                                    MURDER,UNCLASSIFIED  1745
148                                       NOISE,UNECESSARY     2
149                                     NUISANCE, CRIMINAL     1
150                         NUISANCE,CRIMINAL,UNCLASSIFIED     2
151                         NY STATE LAWS,UNCLASSIFIED FEL  1106
152                         NY STATE LAWS,UNCLASSIFIED MIS   160
153                         NY STATE LAWS,UNCLASSIFIED VIO   865
154                               NYC UNCLASSIFIED WARRANT     2
155                                   NYS PAROLE VIOLATION     5
156                                          NYS PROBATION     3
157                                       NYS UNCLASSIFIED     9
158                         OBSCENE MATERIAL - UNDER 17 YE    87
159                                            OBSCENITY 1    21
160                               OBSCENITY, PERFORMANCE 3     5
161                                    OBSTR BREATH/CIRCUL  3311
162                         PARKR&amp;R,UNCLASSIFIED VIOLATION     4
163                                      PEDDLING,UNLAWFUL    11
164                                        PERJURY 2,1,ETC     3
165                                         PERJURY 3,ETC.     7
166                            POSS METH MANUFACT MATERIAL    10
167                                 POSTING ADVERTISEMENTS     2
168                         PROMOTING A SEXUAL PERFORMANCE    27
169                                           PROSTITUTION   107
170                         PROSTITUTION 3, PROMOTING UNDE     4
171                         PROSTITUTION 3,PROMOTING BUSIN    14
172                         PROSTITUTION 4,PROMOTING&amp;SECUR    46
173                         PROSTITUTION, PATRONIZING 4, 3    71
174                                PROSTITUTION,PERMITTING     7
175                         PUBLIC ADMINISTATION,UNCLASS M  2056
176                         PUBLIC ADMINISTRATION,UNCLASSI  9325
177                         PUBLIC HEALTH LAW,UNCLASSIFIED    74
178                         PUBLIC SAFETY,UNCLASSIFIED MIS   101
179                         RADIO DEVICES,UNLAWFUL POSSESS     9
180                                                 RAPE 1   363
181                                                 RAPE 2    67
182                                                 RAPE 3   252
183                                       RECKLESS DRIVING   129
184                                RECKLESS ENDANGERMENT 1  1617
185                                RECKLESS ENDANGERMENT 2  1366
186                         RECKLESS ENDANGERMENT OF PROPE    30
187                                 RECORDS,FALSIFY-TAMPER    10
188                                       RESISTING ARREST  1954
189                                                 RIOT 1     4
190                                        RIOT 2/INCITING    17
191                                    ROBBERY,CAR JACKING    57
192                                    ROBBERY,GAS STATION    11
193                         ROBBERY,OPEN AREA UNCLASSIFIED 11003
194                         SALE OF UNAUTHORIZED RECORDING     1
195                                    SALE SCHOOL GROUNDS   161
196                                  SALE SCHOOL GROUNDS 4    13
197                                  SALES OF PRESCRIPTION     2
198                                             SEAT BELTS     4
199                                             SEX CRIMES    14
200                                        SEX TRAFFICKING    18
201                                           SEXUAL ABUSE   304
202                                       SEXUAL ABUSE 3,2   785
203                              SEXUAL MISCONDUCT,DEVIATE     5
204                          SEXUAL MISCONDUCT,INTERCOURSE    34
205                                               SODOMY 1   114
206                                               SODOMY 2    11
207                                               SODOMY 3    66
208                           SOLICITATION 3,2,1, CRIMINAL     2
209                               SOLICITATION 4, CRIMINAL     2
210                            STALKING COMMIT SEX OFFENSE     3
211                         STOLEN PROPERTY 2,1,POSSESSION  1845
212                         STOLEN PROPERTY 2,POSSESSION B    19
213                           STOLEN PROPERTY 3,POSSESSION  1575
214                         STOLEN PROPERTY-MOTOR VEH 2ND,   323
215                                      STRANGULATION 1ST  3677
216                                     SUPP. ACT TERR 2ND     1
217                                   TAMPERING 1,CRIMINAL   479
218                                TAMPERING 3,2, CRIMINAL    40
219                               TAMPERING WITH A WITNESS     6
220                                                TAX LAW   172
221                         THEFT OF SERVICES, UNCLASSIFIE  5703
222                         THEFT OF SERVICES- CABLE TV SE    85
223                         THEFT,RELATED OFFENSES,UNCLASS   100
224                          TORTURE/INJURE ANIMAL CRUELTY    66
225                         TRAFFIC,UNCLASSIFIED INFRACTIO  2048
226                         TRAFFIC,UNCLASSIFIED MISDEMEAN 11925
227                                    TRESPASS 1,CRIMINAL    21
228                                   TRESPASS 2, CRIMINAL   572
229                                   TRESPASS 3, CRIMINAL  1385
230                              TRESPASS 4,CRIMINAL SUB 2    50
231                                 U.S. CODE UNCLASSIFIED  1320
232                         UNAUTH. SALE OF TRANS. SERVICE   154
233                             UNAUTHORIZED USE VEHICLE 2   345
234                             UNAUTHORIZED USE VEHICLE 3   630
235                                           UNCLASSIFIED     3
236                                        UNFINSH FRAME 2     4
237               UNLAWFUL DISCLOSURE OF AN INTIMATE IMAGE     5
238                         UNLAWFUL POSS. WEAPON UPON SCH     1
239                                    UNLICENSED OPERATOR    18
240                           USE CELL PHONE WHILE DRIVING     1
241                         USE OF A CHILD IN A SEXUAL PER     4
242                                         USURY,CRIMINAL     2
243                         VEHICULAR ASSAULT (INTOX DRIVE    51
244                                 WEAPONS DISPOSITION OF    11
245                                   WEAPONS POSSESSION 3  2069
246                               WEAPONS, POSSESSION, ETC  2785
247                             WEAPONS,MFR,TRANSPORT,ETC.    10</code></pre>
</div>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>PD_count <span class="ot">&lt;-</span> <span class="fu">unique</span>(ds<span class="sc">$</span>PD_DESC) <span class="co"># </span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(PD_count)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 247</code></pre>
</div>
</div>
<p>there are 239 subcategories for all 63 crimes</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>category_details <span class="ot">&lt;-</span> ds <span class="sc">%&gt;%</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(OFNS_DESC) <span class="sc">%&gt;%</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">PD_DESC_Details =</span> <span class="fu">paste</span>(<span class="fu">unique</span>(PD_DESC), <span class="at">split=</span> <span class="st">""</span>, <span class="at">collapse =</span> <span class="st">", "</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(OFNS_DESC)</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(category_details)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 63 × 2
   OFNS_DESC                            PD_DESC_Details                         
   &lt;chr&gt;                                &lt;chr&gt;                                   
 1 ADMINISTRATIVE CODE                  "ADM.CODE,UNCLASSIFIED MISDEMEA , ALCOH…
 2 ADMINISTRATIVE CODES                 "NOISE,UNECESSARY "                     
 3 AGRICULTURE &amp; MRKTS LAW-UNCLASSIFIED "TORTURE/INJURE ANIMAL CRUELTY , ABANDO…
 4 ALCOHOLIC BEVERAGE CONTROL LAW       "ALCOHOLIC BEVERAGE CONTROL LAW "       
 5 ANTICIPATORY OFFENSES                "CONSPIRACY 6, 5 , FACILITATION 4, CRIM…
 6 ARSON                                "ARSON 2,3,4 , ARSON 1 "                
 7 ASSAULT 3 &amp; RELATED OFFENSES         "ASSAULT 3 , MENACING,UNCLASSIFIED , OB…
 8 BURGLAR'S TOOLS                      "BURGLARS TOOLS,UNCLASSIFIED "          
 9 BURGLARY                             "BURGLARY,UNCLASSIFIED,UNKNOWN , BURGLA…
10 CANNABIS RELATED OFFENSES            "CANNABIS SALE, 3 , CANNABIS POSSESSION…
# ℹ 53 more rows</code></pre>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Variable</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Data_Types</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">ARREST_DATE</td>
<td style="text-align: left;">calendar date</td>
<td style="text-align: left;">Exact date of arrest for the reported event</td>
</tr>
<tr class="even">
<td style="text-align: left;">PD_DESC</td>
<td style="text-align: left;">text</td>
<td style="text-align: left;">Description of internal classification corresponding with PD code (more granular than Offense Description)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">OFNS_DESC</td>
<td style="text-align: left;">text</td>
<td style="text-align: left;">Description of internal classification corresponding with KY code (more general category than PD description)</td>
</tr>
<tr class="even">
<td style="text-align: left;">LAW_CAT_CD</td>
<td style="text-align: left;">text</td>
<td style="text-align: left;">Level of offense: felony, misdemeanor, violation, infraction</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ARREST_PRECINCT</td>
<td style="text-align: left;">number</td>
<td style="text-align: left;">Precinct where the arrest occurred</td>
</tr>
<tr class="even">
<td style="text-align: left;">AGE_GROUP</td>
<td style="text-align: left;">text</td>
<td style="text-align: left;">Perpetrator’s age within a category</td>
</tr>
<tr class="odd">
<td style="text-align: left;">PERP_SEX</td>
<td style="text-align: left;">text</td>
<td style="text-align: left;">Perpetrator’s sex description</td>
</tr>
<tr class="even">
<td style="text-align: left;">PERP_RACE</td>
<td style="text-align: left;">text</td>
<td style="text-align: left;">Perpetrator’s race description</td>
</tr>
<tr class="odd">
<td style="text-align: left;">X_COORD_CD</td>
<td style="text-align: left;">text</td>
<td style="text-align: left;">Midblock X-coordinate for New York State Plane Coordinate System</td>
</tr>
<tr class="even">
<td style="text-align: left;">Y_COORD_CD</td>
<td style="text-align: left;">text</td>
<td style="text-align: left;">Midblock Y-coordinate for New York State Plane Coordinate System</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Latitude</td>
<td style="text-align: left;">number</td>
<td style="text-align: left;">Latitude coordinate for Global Coordinate System</td>
</tr>
<tr class="even">
<td style="text-align: left;">Longitude</td>
<td style="text-align: left;">number</td>
<td style="text-align: left;">Longitude coordinate for Global Coordinate System</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Lon_Lat</td>
<td style="text-align: left;">point</td>
<td style="text-align: left;">Georeferenced Point Column based on Longitude and Latitude fields</td>
</tr>
</tbody>
</table>


</div>
</div>
<div class="cell">
<div class="cell-output-display">
<table class="table table-striped table-hover table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">PERP_SEX</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">n</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">F</td>
<td style="text-align: right;">39334</td>
</tr>
<tr class="even">
<td style="text-align: left;">M</td>
<td style="text-align: right;">183409</td>
</tr>
<tr class="odd">
<td style="text-align: left;">U</td>
<td style="text-align: right;">3501</td>
</tr>
</tbody>
</table>


</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="table-responsive">
<table class="table table-striped table-hover table-condensed table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: left; background-color: rgba(211, 211, 211, 255) !important;">OFNS_DESC</th>
<th data-quarto-table-cell-role="th" style="text-align: left; background-color: rgba(211, 211, 211, 255) !important;">PD_DESC_Details</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left; font-weight: bold; color: black !important;">ADMINISTRATIVE CODE</td>
<td style="text-align: left;">ADM.CODE,UNCLASSIFIED MISDEMEA, ALCOHOLIC BEVERAGES,PUBLIC CON, ADM.CODE,UNCLASSIFIED VIOLATIO, UNLAWFUL DISCLOSURE OF AN INTIMATE IMAGE, PEDDLING,UNLAWFUL, PARKR&amp;R,UNCLASSIFIED VIOLATION</td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold; color: black !important;">ADMINISTRATIVE CODES</td>
<td style="text-align: left;">NOISE,UNECESSARY</td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold; color: black !important;">AGRICULTURE &amp; MRKTS LAW-UNCLASSIFIED</td>
<td style="text-align: left;">TORTURE/INJURE ANIMAL CRUELTY, ABANDON ANIMAL</td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold; color: black !important;">ALCOHOLIC BEVERAGE CONTROL LAW</td>
<td style="text-align: left;">ALCOHOLIC BEVERAGE CONTROL LAW</td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold; color: black !important;">ANTICIPATORY OFFENSES</td>
<td style="text-align: left;">CONSPIRACY 6, 5, FACILITATION 4, CRIMINAL, SOLICITATION 4, CRIMINAL</td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold; color: black !important;">ARSON</td>
<td style="text-align: left;">ARSON 2,3,4, ARSON 1</td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold; color: black !important;">ASSAULT 3 &amp; RELATED OFFENSES</td>
<td style="text-align: left;">ASSAULT 3, MENACING,UNCLASSIFIED, OBSTR BREATH/CIRCUL</td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold; color: black !important;">BURGLAR'S TOOLS</td>
<td style="text-align: left;">BURGLARS TOOLS,UNCLASSIFIED</td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold; color: black !important;">BURGLARY</td>
<td style="text-align: left;">BURGLARY,UNCLASSIFIED,UNKNOWN, BURGLARY,RESIDENCE,NIGHT</td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold; color: black !important;">CANNABIS RELATED OFFENSES</td>
<td style="text-align: left;">CANNABIS SALE, 3, CANNABIS POSSESSION, 3, CANNABIS SALE, 2&amp;1, CANNABIS POSSESSION, 2&amp;1, CANNABIS SALE, CANNABIS SALE, AGGRAVATED, CANNABIS POSSESSION</td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold; color: black !important;">CHILD ABANDONMENT/NON SUPPORT</td>
<td style="text-align: left;">CHILD ABANDONMENT</td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold; color: black !important;">CRIMINAL MISCHIEF &amp; RELATED OF</td>
<td style="text-align: left;">CRIMINAL MISCHIEF,UNCLASSIFIED 4, CRIMINAL MIS 2 &amp; 3, CRIMINAL MISCHIEF 4TH, GRAFFIT, MISCHIEF,CRIMINAL, UNCL 2ND, MISCHIEF 1,CRIMINAL,EXPLOSIVE, TAMPERING 3,2, CRIMINAL, TAMPERING 1,CRIMINAL, MISCHIEF, CRIMINAL 4, BY FIRE, RECKLESS ENDANGERMENT OF PROPE, FALSE ALARM FIRE, MISCHIEF, CRIMINAL 4, OF MOTOR, MISCHIEF, CRIMINAL 3 &amp; 2, OF M</td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold; color: black !important;">CRIMINAL TRESPASS</td>
<td style="text-align: left;">TRESPASS 2, CRIMINAL, TRESPASS 3, CRIMINAL</td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold; color: black !important;">DANGEROUS DRUGS</td>
<td style="text-align: left;">CONTROLLED SUBSTANCE,POSSESS., CONTROLLED SUBSTANCE, POSSESSI, CONTROLLED SUBSTANCE,INTENT TO, CONTROLLED SUBSTANCE, SALE 4, CONTROLLED SUBSTANCE,SALE 3, CONTROLLED SUBSTANCE, INTENT T, CONTROLLED SUBSTANCE,SALE 1, DRUG PARAPHERNALIA, POSSESSE, SALE SCHOOL GROUNDS, CONTROLLED SUBSTANCE,SALE 2, POSS METH MANUFACT MATERIAL, CONTROLLED SUBSTANCE, SALE 5, SALES OF PRESCRIPTION, SALE SCHOOL GROUNDS 4</td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold; color: black !important;">DANGEROUS WEAPONS</td>
<td style="text-align: left;">CRIMINAL POSSESSION WEAPON, WEAPONS, POSSESSION, ETC, WEAPONS POSSESSION 3, CRIMINAL DISPOSAL FIREARM 1, MANUFATURE, TRANSPORT, DEFACE, ETC..., CRIM POS WEAP 4, WEAPONS,MFR,TRANSPORT,ETC., WEAPONS DISPOSITION OF, UNFINSH FRAME 2, FIREARMS LICENSING LAWS</td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold; color: black !important;">DISORDERLY CONDUCT</td>
<td style="text-align: left;">DISORDERLY CONDUCT</td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold; color: black !important;">DISRUPTION OF A RELIGIOUS SERV</td>
<td style="text-align: left;">DIS. CON.,AGGRAVATED</td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold; color: black !important;">ENDAN WELFARE INCOMP</td>
<td style="text-align: left;">INCOMPETENT PERSON,RECKLESSY ENDANGERING, INCOMPETENT PERSON,KNOWINGLY ENDANGERING</td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold; color: black !important;">ESCAPE 3</td>
<td style="text-align: left;">ESCAPE 3</td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold; color: black !important;">FELONY ASSAULT</td>
<td style="text-align: left;">STRANGULATION 1ST, ASSAULT 2,1,UNCLASSIFIED, ASSAULT POLICE/PEACE OFFICER</td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold; color: black !important;">FELONY SEX CRIMES</td>
<td style="text-align: left;">STALKING COMMIT SEX OFFENSE</td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold; color: black !important;">FOR OTHER AUTHORITIES</td>
<td style="text-align: left;">U.S. CODE UNCLASSIFIED, FUGITIVE/OTHER JURISDICTION NYS, FUGITIVE/OTHER STATES, NYS UNCLASSIFIED, NYS PAROLE VIOLATION, NYC UNCLASSIFIED WARRANT, NYS PROBATION, F.C.A. ORDER OF PROTECTION, F.C.A. NON SUPPORT</td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold; color: black !important;">FORGERY</td>
<td style="text-align: left;">FORGERY,ETC.,UNCLASSIFIED-FELO, FORGERY,M.V. REGISTRATION, FORGERY,PRESCRIPTION</td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold; color: black !important;">FRAUDS</td>
<td style="text-align: left;">IMPERSONATION 2, PUBLIC SERVAN, FRAUD,UNCLASSIFIED-MISDEMEANOR, CHECK,BAD, COMPUTER UNAUTH. USE/TAMPER</td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold; color: black !important;">FRAUDULENT ACCOSTING</td>
<td style="text-align: left;">ACCOSTING,FRAUDULENT</td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold; color: black !important;">GAMBLING</td>
<td style="text-align: left;">GAMBLING, DEVICE, POSSESSION, GAMBLING 2,PROMOTING,UNCLASSIF, GAMBLING 1,PROMOTING,POLICY, GAMBLING 1,PROMOTING,BOOKMAKIN, GAMBLING 2, PROMOTING, POLICY-</td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold; color: black !important;">GRAND LARCENY</td>
<td style="text-align: left;">LARCENY,GRAND FROM PERSON,UNCL, LARCENY,GRAND FROM OPEN AREAS, UNATTENDED, AGGRAVATED GRAND LARCENY OF ATM, LARCENY,GRAND BY EXTORTION, LARCENY,GRAND BY THEFT OF CREDIT CARD, LARCENY,GRAND FROM BUILDING (NON-RESIDENCE) UNATTENDED</td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold; color: black !important;">GRAND LARCENY OF MOTOR VEHICLE</td>
<td style="text-align: left;">LARCENY,GRAND OF AUTO</td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold; color: black !important;">HARRASSMENT 2</td>
<td style="text-align: left;">HARASSMENT,SUBD 1,CIVILIAN, HARASSMENT,SUBD 3,4,5</td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold; color: black !important;">HOMICIDE-NEGLIGENT,UNCLASSIFIE</td>
<td style="text-align: left;">HOMICIDE,NEGLIGENT,UNCLASSIFIE</td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold; color: black !important;">HOMICIDE-NEGLIGENT-VEHICLE</td>
<td style="text-align: left;">HOMICIDE, NEGLIGENT, VEHICLE,</td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold; color: black !important;">INTOXICATED &amp; IMPAIRED DRIVING</td>
<td style="text-align: left;">INTOXICATED DRIVING,ALCOHOL, IMPAIRED DRIVING,DRUG</td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold; color: black !important;">INTOXICATED/IMPAIRED DRIVING</td>
<td style="text-align: left;">INTOXICATED DRIVING,ALCOHOL, IMPAIRED DRIVING, DRUGS</td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold; color: black !important;">JOSTLING</td>
<td style="text-align: left;">JOSTLING</td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold; color: black !important;">KIDNAPPING</td>
<td style="text-align: left;">LURING A CHILD</td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold; color: black !important;">KIDNAPPING &amp; RELATED OFFENSES</td>
<td style="text-align: left;">KIDNAPPING 2, IMPRISONMENT 1,UNLAWFUL, KIDNAPPING 1, CUSTODIAL INTERFERENCE 1</td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold; color: black !important;">MISCELLANEOUS PENAL LAW</td>
<td style="text-align: left;">PUBLIC ADMINISTRATION,UNCLASSI, CRIMINAL CONTEMPT 1, MENACING 1ST DEGREE (VICT NOT, RECKLESS ENDANGERMENT 1, IMPERSONATION 1, POLICE OFFICE, AGGRAVATED CRIMINAL CONTEMPT, BRIBERY,PUBLIC ADMINISTRATION, FORGERY-ILLEGAL POSSESSION,VEH, VEHICULAR ASSAULT (INTOX DRIVE, BAIL JUMPING 1 &amp; 2, MAKING TERRORISTIC THREAT, AGGRAVATED HARASSMENT 1, TRESPASS 4,CRIMINAL SUB 2, UNAUTHORIZED USE VEHICLE 2, CONSPIRACY 4, 3, THEFT OF SERVICES- CABLE TV SE, SOLICITATION 3,2,1, CRIMINAL, TRESPASS 1,CRIMINAL, PROMOTING A SEXUAL PERFORMANCE, ESCAPE 2,1, FALSE REPORT 1,FIRE, BRIBERY,FRAUD, CONSPIRACY 2, 1, COERCION 1, TAMPERING WITH A WITNESS, FACILITATION 3,2,1, CRIMINAL, POSTING ADVERTISEMENTS, EXPOSURE OF A PERSON, USURY,CRIMINAL, ENTERPRISE CORRUPTION, USE OF A CHILD IN A SEXUAL PER, SUPP. ACT TERR 2ND, PERJURY 2,1,ETC, END WELFARE VULNERABLE ELDERLY PERSON, RIOT 1, FIREWORKS, POSSESS/USE, NUISANCE, CRIMINAL</td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold; color: black !important;">MOVING INFRACTIONS</td>
<td style="text-align: left;">UNLICENSED OPERATOR, SEAT BELTS, IMPAIRED DRIVING / ALCOHOL, FAIL TO STOP ON SIGNAL, USE CELL PHONE WHILE DRIVING</td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold; color: black !important;">MURDER &amp; NON-NEGL. MANSLAUGHTE</td>
<td style="text-align: left;">MURDER,UNCLASSIFIED, MANSLAUGHTER,UNCLASSIFIED - NO</td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold; color: black !important;">NYS LAWS-UNCLASSIFIED FELONY</td>
<td style="text-align: left;">NY STATE LAWS,UNCLASSIFIED FEL, CAUSE SPI/KILL ANIMAL</td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold; color: black !important;">OFF. AGNST PUB ORD SENSBLTY &amp;</td>
<td style="text-align: left;">AGGRAVATED HARASSMENT 2, LEWDNESS,PUBLIC, FALSE REPORT UNCLASSIFIED, MATERIAL OFFENSIV, NUISANCE,CRIMINAL,UNCLASSIFIED, FALSE REPORT BOMB, RADIO DEVICES,UNLAWFUL POSSESS, SALE OF UNAUTHORIZED RECORDING, RIOT 2/INCITING, ASSEMBLY,UNLAWFUL</td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold; color: black !important;">OFFENSES AGAINST PUBLIC ADMINI</td>
<td style="text-align: left;">RESISTING ARREST, CONTEMPT,CRIMINAL, PUBLIC ADMINISTATION,UNCLASS M, PERJURY 3,ETC., BAIL JUMPING 3</td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold; color: black !important;">OFFENSES AGAINST PUBLIC SAFETY</td>
<td style="text-align: left;">PUBLIC SAFETY,UNCLASSIFIED MIS, FIREWORKS, SALE</td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold; color: black !important;">OFFENSES AGAINST THE PERSON</td>
<td style="text-align: left;">RECKLESS ENDANGERMENT 2, IMPRISONMENT 2,UNLAWFUL, CUSTODIAL INTERFERENCE 2, COERCION 2</td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold; color: black !important;">OFFENSES INVOLVING FRAUD</td>
<td style="text-align: left;">FORGERY,ETC.-MISD., RECORDS,FALSIFY-TAMPER, BRIBERY,COMMERCIAL</td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold; color: black !important;">OFFENSES RELATED TO CHILDREN</td>
<td style="text-align: left;">CHILD,OFFENSES AGAINST,UNCLASS</td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold; color: black !important;">OTHER OFFENSES RELATED TO THEF</td>
<td style="text-align: left;">THEFT OF SERVICES, UNCLASSIFIE, THEFT,RELATED OFFENSES,UNCLASS, CREDIT CARD,UNLAWFUL USE OF</td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold; color: black !important;">OTHER STATE LAWS</td>
<td style="text-align: left;">NY STATE LAWS,UNCLASSIFIED VIO, A.B.C.,FALSE PROOF OF AGE</td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold; color: black !important;">OTHER STATE LAWS (NON PENAL LA</td>
<td style="text-align: left;">NY STATE LAWS,UNCLASSIFIED MIS, PUBLIC HEALTH LAW,UNCLASSIFIED, TAX LAW</td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold; color: black !important;">OTHER STATE LAWS (NON PENAL LAW)</td>
<td style="text-align: left;">GENERAL BUSINESS LAW / UNCLASSIFIED</td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold; color: black !important;">OTHER TRAFFIC INFRACTION</td>
<td style="text-align: left;">TRAFFIC,UNCLASSIFIED INFRACTIO, LEAVING THE SCENE / PROPERTY DAMAGE / INJURED ANIMAL, IMPROPER LIGHTS, FAIL TO SIGNAL</td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold; color: black !important;">PARKING OFFENSES</td>
<td style="text-align: left;">UNCLASSIFIED</td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold; color: black !important;">PETIT LARCENY</td>
<td style="text-align: left;">LARCENY,PETIT FROM OPEN AREAS,, LARCENY,PETIT BY ACQUIRING LOS</td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold; color: black !important;">POSSESSION OF STOLEN PROPERTY</td>
<td style="text-align: left;">STOLEN PROPERTY 3,POSSESSION, STOLEN PROPERTY-MOTOR VEH 2ND,, STOLEN PROPERTY 2,1,POSSESSION, STOLEN PROPERTY 2,POSSESSION B</td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold; color: black !important;">PROSTITUTION &amp; RELATED OFFENSES</td>
<td style="text-align: left;">SEX TRAFFICKING, PROSTITUTION 4,PROMOTING&amp;SECUR, PROSTITUTION, PROSTITUTION, PATRONIZING 4, 3, PROSTITUTION 3, PROMOTING UNDE, PROSTITUTION 3,PROMOTING BUSIN, PROSTITUTION,PERMITTING</td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold; color: black !important;">RAPE</td>
<td style="text-align: left;">RAPE 1, RAPE 3, RAPE 2</td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold; color: black !important;">ROBBERY</td>
<td style="text-align: left;">ROBBERY,OPEN AREA UNCLASSIFIED, ROBBERY,CAR JACKING, ROBBERY,GAS STATION</td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold; color: black !important;">SEX CRIMES</td>
<td style="text-align: left;">CHILD, ENDANGERING WELFARE, SEXUAL ABUSE 3,2, SEXUAL ABUSE, SEXUAL MISCONDUCT,INTERCOURSE, FORCIBLE TOUCHING, AGGRAVATED SEXUAL ASBUSE, OBSCENE MATERIAL - UNDER 17 YE, SODOMY 1, OBSCENITY 1, COURSE OF SEXUAL CONDUCT AGAIN, SODOMY 3, INCEST 3, SEXUAL MISCONDUCT,DEVIATE, SODOMY 2, SEX CRIMES, OBSCENITY, PERFORMANCE 3</td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold; color: black !important;">THEFT OF SERVICES</td>
<td style="text-align: left;">UNAUTH. SALE OF TRANS. SERVICE</td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold; color: black !important;">THEFT-FRAUD</td>
<td style="text-align: left;">FRAUD,UNCLASSIFIED-FELONY, MONEY LAUNDERING 1 &amp; 2, COMPUTER TAMPER/TRESSPASS</td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold; color: black !important;">UNAUTHORIZED USE OF A VEHICLE</td>
<td style="text-align: left;">UNAUTHORIZED USE VEHICLE 3</td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold; color: black !important;">UNLAWFUL POSS. WEAP. ON SCHOOL</td>
<td style="text-align: left;">UNLAWFUL POSS. WEAPON UPON SCH</td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold; color: black !important;">VEHICLE AND TRAFFIC LAWS</td>
<td style="text-align: left;">TRAFFIC,UNCLASSIFIED MISDEMEAN, LEAVING SCENE-ACCIDENT-PERSONA, RECKLESS DRIVING</td>
</tr>
</tbody>
</table>
</div>


</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>crime_summary <span class="ot">&lt;-</span> ds <span class="sc">|&gt;</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(OFNS_DESC) <span class="sc">|&gt;</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">Incident_Count =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">|&gt;</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(Incident_Count)) <span class="sc">|&gt;</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_max</span>(Incident_Count, <span class="at">n =</span> <span class="dv">10</span>)</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>crime_race_summary <span class="ot">&lt;-</span> ds <span class="sc">|&gt;</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(OFNS_DESC <span class="sc">%in%</span> crime_summary<span class="sc">$</span>OFNS_DESC) <span class="sc">|&gt;</span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(OFNS_DESC, PERP_RACE) <span class="sc">|&gt;</span></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">Incident_Count =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">"drop"</span>)</span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>total_counts <span class="ot">&lt;-</span> crime_race_summary <span class="sc">|&gt;</span></span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(OFNS_DESC) <span class="sc">|&gt;</span></span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">Total_Count =</span> <span class="fu">sum</span>(Incident_Count), <span class="at">.groups =</span> <span class="st">"drop"</span>)</span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a>crime_race_summary <span class="ot">&lt;-</span> crime_race_summary <span class="sc">|&gt;</span></span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(total_counts, <span class="at">by =</span> <span class="st">"OFNS_DESC"</span>) <span class="sc">|&gt;</span></span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Proportion =</span> Incident_Count <span class="sc">/</span> Total_Count)</span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-20"><a href="#cb16-20" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(crime_race_summary, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(OFNS_DESC, <span class="sc">-</span>Proportion), <span class="at">y =</span> Proportion, <span class="at">fill =</span> PERP_RACE)) <span class="sc">+</span></span>
<span id="cb16-21"><a href="#cb16-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"fill"</span>) <span class="sc">+</span>  <span class="co"># Using 'fill' to show proportions</span></span>
<span id="cb16-22"><a href="#cb16-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Proportion of Top 10 Crime Categories by Race"</span>,</span>
<span id="cb16-23"><a href="#cb16-23" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Crime Categories"</span>,</span>
<span id="cb16-24"><a href="#cb16-24" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Proportion"</span>,</span>
<span id="cb16-25"><a href="#cb16-25" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">"Race"</span>) <span class="sc">+</span></span>
<span id="cb16-26"><a href="#cb16-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_grey</span>() <span class="sc">+</span></span>
<span id="cb16-27"><a href="#cb16-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">60</span>, <span class="at">hjust =</span> <span class="dv">1</span>, <span class="at">size =</span> <span class="fu">rel</span>(<span class="fl">0.8</span>) ))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="UntitledQMD_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<p><img src="UntitledQMD_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>We found that when season changes from summer to winter, the crime density gradually decreases.</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>Reading layer `geo_export_87553334-fdcd-4d0c-8ab2-43a5e2975733' from data source `/Users/dingjiatong/R code/finalproject-jt/dataset/geo_export_87553334-fdcd-4d0c-8ab2-43a5e2975733.shp' 
  using driver `ESRI Shapefile'
Simple feature collection with 77 features and 3 fields
Geometry type: MULTIPOLYGON
Dimension:     XY
Bounding box:  xmin: -74.25559 ymin: 40.49612 xmax: -73.70001 ymax: 40.91553
Geodetic CRS:  WGS84(DD)</code></pre>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<p><img src="UntitledQMD_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<p><img src="UntitledQMD_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<p><img src="UntitledQMD_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<p><img src="UntitledQMD_files/figure-html/unnamed-chunk-18-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<p><img src="UntitledQMD_files/figure-html/unnamed-chunk-23-1.png" class="img-fluid" width="672"></p>
</div>
</div>



</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>
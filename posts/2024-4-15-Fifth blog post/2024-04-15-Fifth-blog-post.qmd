---
title: "Fifth Blog Post"
subtitle: ""
author: "TEAM 14"
date: "2024-04-15"
draft: false
---

```{r include=F}
library(dplyr)
library(tidyverse) 
library(ggplot2)
library(dplyr)
library(kableExtra)
library(ggcorrplot)
library(ggmap)
library(leaflet)
library(magrittr)
library(sf)
ds <- read_rds("dataset/load_and_clean_data.rds") 
```

In our research, in addition to the explantory analysis of arrest data, we wanted to take it a step further and look at the non-human factors that affect crime, so we added the daily weather conditions of New York City over the course of a year to our master data. This data comes from [Visual crossing](https://www.visualcrossing.com/weather/weather-data-services#)'s weather database.


we selected basic weather conditions for New York City for the year 2023 so that we could explore whether extremes in temperature, wind speed, and so on, affect crime rates, as well as crime trends under different weather conditions. This way it can be more efficient to optimize the efficiency of NYPD's police response. 

[Data Loading and Cleaning Script](scripts/load_and_clean_data.R)



### Weather Condition

```{r echo=FALSE, message=FALSE, warning= FALSE}
# Filter for ASSAULT 3 and count occurrences per category in the 'conditions' column
assault_conditions_counts <- ds %>%
  filter(OFNS_DESC == "ASSAULT 3 & RELATED OFFENSES") %>%
  group_by(conditions) %>%
  summarise(Count = n()) %>%
  arrange(desc(Count))
# Print the counts
#print(assault_conditions_counts)

ggplot(assault_conditions_counts, aes(x = reorder(conditions, Count), y = Count, fill = conditions)) +
  geom_bar(stat = "identity") +
  theme_minimal() +
  labs(title = "Assault 3 Incident count by Weather Condition",
       x = " ",
       y = "Count") +
  theme(axis.text.x = element_text(angle = 45, hjust = 1))
```

The bar chart illustrates the frequency of Assault 3 incidents occurring
under various weather conditions. Clear weather and Rain with partially
is associated with the highest number of incidents, followed closely by
overcast and partially cloudy conditions. Incidents are less frequent
during more adverse weather conditions, such as combinations of snow,
rain, and overcast skies, suggesting possible correlations between
weather and the occurrence of Assault 3 crimes.

### Windspeed

```{r echo=FALSE, message=FALSE, warning= FALSE}
assault_wind_counts <- ds %>%
  filter(OFNS_DESC == "ASSAULT 3 & RELATED OFFENSES") %>%
  mutate(WindSpeedCategory = cut(windspeed, 
                                 breaks = c(0, 9, 10, 15, 20, 25, 30, 35, 40, 45, 50),  
                                 labels = c("(0,9]", "(9,10]", "(10,15]", "(15,20]", "(20,25]", 
                                            "(25,30]", "(30,35]", "(35,40]", "(40,45]", "(45,50]"),
                                 include.lowest = TRUE)) %>%
  group_by(WindSpeedCategory) %>%
  summarise(Count = n()) %>%
  ungroup()

ggplot(assault_wind_counts, aes(x = WindSpeedCategory, y = Count, fill = WindSpeedCategory)) +
  geom_bar(stat = "identity") +
  theme_minimal() +
  labs(title = " Assault 3 incidents count by Wind Speed ", 
       x = "Wind Speed Category", 
       y = "Count") +
  theme(axis.text.x = element_text(angle = 45, hjust = 1))

```

This bar chart shows that incidents are most frequent in wind speeds
ranging from 10 to 20 km/h and significantly less frequent as wind
speeds increase beyond 20 km/h, suggesting fewer Assault 3 incidents
occur in higher wind conditions.



And our next step is to do the regression and logistic analysis to understanding the trends and patterns within the data. Moreover, we will create a more localized heat map of New York neighborhoods which will provide clear visual insights into areas with higher crime rates, potentially informing policy decisions, law enforcement resource allocation, or community support initiatives.










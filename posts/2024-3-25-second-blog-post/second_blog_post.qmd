---
title: "Second Blog Post"
subtitle: ""
author: "TEAM 14"
date: "2024-03-25"
draft: false
---

## Data background

### Where does the data come from? Who collected it? Why was it collected? Are you able to find the data from the original source?

This data comes from the NYPD website and is collected by the Office of Management Analysis and Planning of the New York City Police Department. This dataset provides a general overview of the nature of police enforcement activity in NYC by the NYPD to the public starting from 2006. 

Sources: https://data.cityofnewyork.us/w/uip8-fykc/25te-f2tw?cur=r4FZeyikcAn

### Are there any issues you can see with how the data was collected? What is the sample population? Are there reasons to think the sample is biased in some way?

The collection of NYPD Arrest Data raises several concerns regarding its collection and subsequent analysis. Reporting biases might result from inconsistencies in how incidents are documented across different precincts or by individual officers, affecting data uniformity and reliability. Human error in data entry could introduce inaccuracies, including misclassifications or incorrect demographic information, which could mislead analyses, particularly in trend or demographic studies.

This sample population consists of individuals arrested by the NYPD, as recorded in this dataset for the year to date. It represents only the subset of the population that has been arrested and does not reflect the broader New York City population.

There might be some biases in the sample. In the dataset, certain age groups are disproportionately represented.Over representation of the 25-44 age group and certain racial demographics suggests possible targeted enforcement or societal issues, which could bias data-driven analyses. Additionally, the dataset disproportionately represents certain demographics in terms of race.

### How is this data used? Has there been other research on the same data? Is this data being used for some policy decisions? What questions have others ask about this data?

This data can be used to inform policy decisions related to law enforcement practices, resource allocation, and community support programs. By analyzing patterns and trends in the data, policymakers can identify areas in need of intervention or reform. Moreover, researchers may examine the data to study crime trends, the effectiveness of policing strategies, and the impact of socio-economic factors on crime rates. Comparisons with previous years can reveal changes in crime patterns or the effectiveness of law enforcement policies. However, I didn’t find other research on the same data. Researchers, journalists, and policymakers have explored various questions using NYPD Arrest Data, such as: Are certain demographic groups disproportionately represented in arrest statistics? If so, what might be contributing to these disparities? Are there significant differences in arrest rates across different boroughs or neighborhoods, and what factors contribute to these differences?

## Data Loading and Cleaning

```{r include=F}
library(tidyverse) 
library(ggplot2)
```

```{r echo=F}
library(knitr)
variables_df <- data.frame(
  Variable = c("ARREST_KEY", "ARREST_DATE", "PD_CD", "PD_DESC", "KY_CD", "OFNS_DESC", "LAW_CODE", "LAW_CAT_CD", 
               "ARREST_BORO", "ARREST_PRECINCT", "JURISDICTION_CODE", "AGE_GROUP", "PERP_SEX", "PERP_RACE", 
               "X_COORD_CD", "Y_COORD_CD", "Latitude", "Longitude", "Lon_Lat"),
  Data_Types = c("text", "calendar date", "number", "text", "number", "text", "text", "text", 
                 "text", "number", "number", "text", "text", "text", 
                 "text", "text", "number", "number", "point"),
  Description = c("Randomly generated persistent ID for each arrest", 
                  "Exact date of arrest for the reported event", 
                  "Three digit internal classification code (more granular than Key Code)", 
                  "Description of internal classification corresponding with PD code (more granular than Offense Description)", 
                  "Three digit internal classification code (more general category than PD code)", 
                  "Description of internal classification corresponding with KY code (more general category than PD description)", 
                  "Law code charges corresponding to the NYS Penal Law, VTL, and other various local laws", 
                  "Level of offense: felony, misdemeanor, violation", 
                  "Borough of arrest. B(Bronx), S(Staten Island), K(Brooklyn), M(Manhattan), Q(Queens)", 
                  "Precinct where the arrest occurred", 
                  "Jurisdiction responsible for arrest. Jurisdiction codes 0(Patrol), 1(Transit), and 2(Housing) represent NYPD whilst codes 3 and more represent non-NYPD jurisdictions", 
                  "Perpetrator’s age within a category", 
                  "Perpetrator’s sex description", 
                  "Perpetrator’s race description", 
                  "Midblock X-coordinate for New York State Plane Coordinate System", 
                  "Midblock Y-coordinate for New York State Plane Coordinate System", 
                  "Latitude coordinate for Global Coordinate System", 
                  "Longitude coordinate for Global Coordinate System", 
                  "Georeferenced Point Column based on Longitude and Latitude fields")
)
kable(variables_df, format = "html")
```

```{r include=TRUE} 
ds <- read_csv("dataset/NYPD.csv",show_col_types = FALSE )|>
select(-ARREST_KEY,-PD_CD,-KY_CD,-LAW_CODE,-ARREST_BORO,-JURISDICTION_CODE) 
#saveRDS(ds, "dataset/NYPD.rds")
```


```{r }
na_count <- sum(is.na(ds))
na_count
ds <- na.omit(ds) 
dim(ds)
```
In the data cleaning, we delete the arrest ID, two classification ID, and jurisdiction code. These variables are redundant and not relevant with our research. Remove rows with any NA values from the dataset. All in all, it have 225273 rows and 13 columns.


```{r include=F}
ds
saveRDS(ds, "dataset/NYPD.rds")
```
We convert our data to RDS file.

```{r} 
unique_count <- unique(ds$OFNS_DESC)  
length(unique_count) 
```
Through count unique cases based on the "OFNS_DESC, there are 64 different types of arrest cases.

```{r echo=F}
ds|>
ggplot(aes(PERP_RACE)) +
geom_bar(aes(fill = PERP_RACE)) +
theme_minimal() +
labs(x = 'Race', y = 'Number of Cases', title = 'Number of Cases by Race') +
theme(axis.text.x = element_text(angle = 45, hjust = 1))
```

On this graph we are showing the number of cases per race among all races. On this graph we can see that the lowest number of cases per race are represented by the Indian/Alaskan native people. The highest is for colred people having over 11k cases during this period.


